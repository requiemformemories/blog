<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.6.2">Jekyll</generator><link href="/blog/feed.xml" rel="self" type="application/atom+xml" /><link href="/blog/" rel="alternate" type="text/html" /><updated>2020-08-12T12:59:38+08:00</updated><id>/blog/</id><title type="html">Fumitsukiâ€™s magic box</title><subtitle>keep calm and eat eight Plates.</subtitle><entry><title type="html">ä¸‰åˆ†é˜æ•™ä½ å¦‚ä½•åœ¨ OpsWorks Stack ä¸Šé¢ç”¨ 12.x çš„ nodejs</title><link href="/blog/install-node-lts-on-opsworks-stack" rel="alternate" type="text/html" title="ä¸‰åˆ†é˜æ•™ä½ å¦‚ä½•åœ¨ OpsWorks Stack ä¸Šé¢ç”¨ 12.x çš„ nodejs" /><published>2020-08-11T20:09:00+08:00</published><updated>2020-08-11T20:09:00+08:00</updated><id>/blog/install-node-lts-on-opsworks-stack</id><content type="html" xml:base="/blog/install-node-lts-on-opsworks-stack">&lt;p&gt;æœ€è¿‘åšæ¡ˆå­æ‰ç¬¬ä¸€æ¬¡ç¢°åˆ° Opsworks Stackï¼Œç„¶è€Œå‰›ç¢°åˆ°é€™å€‹å·¥å…·è¦ºå¾—éå¸¸å®³æ€•ã€‚é¦–å…ˆç•¶ä½ åœ¨æ–°å¢ stack çš„æ™‚å€™ï¼Œæœƒç™¼ç¾åªæœ‰ Chef 11 çš„ stack å’Œ Chef 12 çš„ stackã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/wVA9b2O.jpg&quot; alt=&quot;æ–°å¢ stack&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Chef éƒ½å‡ºåˆ° 16 äº†ã€‚AWS æ˜¯æ²’æ‰“ç®—å‡ºæ–°çš„æ„æ€å— ğŸ˜¨&lt;/p&gt;

&lt;p&gt;ç„¶å¾Œå†ä¾†çœ‹çœ‹ Chef 11 çš„ build-in recipes å’Œ OS packagesã€‚ nodejs çš„ç‰ˆæœ¬å±…ç„¶æ˜¯ 0.10.xï¼Œç¾åœ¨çš„ LTS ç‰ˆæœ¬ä¸æ˜¯ 12.x å—ï¼ˆæŠ–æŠ–æŠ–&lt;/p&gt;

&lt;p&gt;é€™å€‹å·¥å…·åˆ°åº•ä½•æ™‚æœƒè¢« AWS æ·˜æ±°å•Šï¼Œè¦ºå¾—é©šæã€‚&lt;/p&gt;

&lt;p&gt;nodejs é€™éº¼èˆŠï¼Œä¸€å®šæœƒæœ‰äºº&lt;a href=&quot;https://github.com/aws/opsworks-cookbooks/issues/377&quot;&gt;åæ‡‰&lt;/a&gt;å°å§ï¼Ÿæ²’éŒ¯ï¼&lt;/p&gt;

&lt;p&gt;ä¸é AWS å®˜æ–¹çš„æ…‹åº¦æ˜¯å¸Œæœ›å¤§å®¶éƒ½å»ç”¨ community cookbooksï¼Œæ²’æ‰“ç®—å†æ›´æ–°ç¾æœ‰çš„ cookbooks äº†ã€‚ ç°¡å–®ç¬¬ä¸€å¥è©±æ‰“ç™¼äº†ä¾†é–‹ issueã€åŠ ä¸€çš„çœ¾äººï¼š&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Yes, please use the Chef community cookbook for Nodejs on Chef 12 for OpsWorks.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;2020 å¹´çœ‹åˆ°é€™å¥è©±çš„æˆ‘è¦ºå¾—æ ¼å¤–å­ä¸–ï¼Œå«æˆ‘ä¸Šå“ªå»æ‰¾ community cookbooks å•¦ï¼ŒChef 11 è·Ÿ 12 å¤§å®¶éƒ½å·®ä¸å¤šæ”¾æ£„æ”¯æ´äº†QQ&lt;/p&gt;

&lt;p&gt;å¦å¤–ï¼ŒChef 12 Stack å†ä¹Ÿæ²’æœ‰ build-in cookbooks äº†ï¼Œæœç„¶æ˜¯å®˜æ–¹ä¸æƒ³åœ¨ç¶­è­·é€™å€‹äº†å—XD&lt;/p&gt;

&lt;p&gt;æ‰€å¹¸ç¶“éäº†é»‘æš—çš„ä¸€å€‹ç¦®æ‹œï¼Œçµ‚æ–¼æˆåŠŸæŠŠ nodejs override æˆ 12.x äº†ï¼çœŸæ˜¯è¬å¤©è¬åœ°ï¼&lt;/p&gt;

&lt;p&gt;æ¥ä¸‹ä¾†å°±è·Ÿå¤§å®¶èªªèªªè©²æ€éº¼åšã€‚&lt;/p&gt;

&lt;h2 id=&quot;è§€å¯Ÿä¸€ä¸‹å®˜æ–¹çš„-cookbook-åšäº†ä»€éº¼&quot;&gt;è§€å¯Ÿä¸€ä¸‹å®˜æ–¹çš„ cookbook åšäº†ä»€éº¼&lt;/h2&gt;

&lt;p&gt;ç•¶æˆ‘æŠŠ nodejs åŠ åˆ° OS package è£¡ä»¥å¾Œï¼Œè·‘ä¸€ä¸‹ setupï¼Œå†çœ‹ä¸€ä¸‹ instance log ï¼Œç™¼ç¾åŠ ä¸Šäº† nodejs å¥—ä»¶ä»¥å¾Œï¼Œå¤šäº† opsworks_nodejs é€™å€‹ cookbookã€‚&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;INFO: Storing updated cookbooks/opsworks_nodejs/recipes/create_env_file.rb in the cache.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¦çœ‹çœ‹é€™å€‹ cookbook çš„å…§å®¹å¯ä»¥ä¸ç”¨ç›´æ¥ä¸Š &lt;code class=&quot;highlighter-rouge&quot;&gt;/opt/aws/opsworks/current/cookbooks/&lt;/code&gt;ï¼Œå¯ä»¥åœ¨ &lt;a href=&quot;https://github.com/aws/opsworks-cookbooks/tree/release-chef-11.10/opsworks_nodejs&quot;&gt;GitHub&lt;/a&gt; ä¸ŠæŠŠä»–ä¸‹è¼‰ä¸‹ä¾†ã€‚&lt;/p&gt;

&lt;p&gt;æ‰“é–‹ recipe çœ‹çœ‹ä»–æ˜¯æ€éº¼è£ node çš„ã€‚æœƒçœ‹åˆ°é€™å€‹ &lt;code class=&quot;highlighter-rouge&quot;&gt;opsworks_commons_assets_installer&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# opsworks_nodejs/recipes/default.rb:32-39&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;opsworks_commons_assets_installer&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Install user space OpsWorks NodeJS package&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;asset&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PACKAGE_BASENAME&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;version&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;node&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:opsworks_nodejs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:version&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;release&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;node&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:opsworks_nodejs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:pkgrelease&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

  &lt;span class=&quot;n&quot;&gt;notifies&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:write&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;log[downloading]&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:immediately&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;action&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:install&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¹Ÿå°±æ˜¯ä»–æ˜¯åœ¨é€™è£¡åƒåˆ° &lt;code class=&quot;highlighter-rouge&quot;&gt;node[:opsworks_nodejs][:version]&lt;/code&gt; ï¼Œç„¶å¾Œæœƒè©¦è‘—æŠŠé€™å€‹ç‰ˆæœ¬è£èµ·ä¾†ã€‚&lt;/p&gt;

&lt;p&gt;é‚£é€™å€‹ installer å¹«æˆ‘å€‘åšäº†å“ªäº›äº‹å‘¢ï¼Ÿæˆ‘å€‘å¯ä»¥åœ¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;opsworks_commons/providers/assets_installer.rb&lt;/code&gt; çœ‹åˆ°ä»–çš„å¯¦ä½œã€‚è§€å¯Ÿä¸€ä¸‹å¯ä»¥çœ‹å‡ºä¾†ä»–æœƒå»ä¸€å€‹ S3 bucketï¼ˆé è¨­æ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;https://opsworks-instance-assets-us-east-1.s3.amazonaws.com&lt;/code&gt;ï¼‰æŠŠå°æ‡‰çš„å¥—ä»¶åŒ…æŠ“ä¸‹ä¾†è£èµ·ä¾†ã€‚æ ¹æ“š linux ç™¼è¡Œç‰ˆã€ç™¼è¡Œç‰ˆç‰ˆæœ¬ã€è™•ç†å™¨çš„ä¸åŒæ±ºå®šåœ¨å“ªä¸€å€‹ pathã€‚&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;vi&quot;&gt;@asset_url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;URI&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;node&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:opsworks_commons&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:assets_url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;/packages/&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_platform&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_platform_version&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;asset_name&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¾‹å¦‚ Amazon Linux 2018.03 æœ€å¾Œçš„ asset_url å¯èƒ½æœƒé•·é€™æ¨£ &lt;code class=&quot;highlighter-rouge&quot;&gt;/packages/amazon/2018.03/opsworks-nodejs-12.18.3-1.x86_64.rpm&lt;/code&gt;ã€‚Ubuntu 14.04 å¯èƒ½æœƒåƒé€™æ¨£ &lt;code class=&quot;highlighter-rouge&quot;&gt;/packages/ubuntu/14.04/opsworks-nodejs_12.18.3-1_amd64.deb&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;AWS æä¾›çš„ bucket ä¸Šæ²’æœ‰æˆ‘å€‘è¦çš„ 12.x ç‰ˆæœ¬ï¼Œä½†æ˜¯æˆ‘å€‘å¯ä»¥è‡ªå·±æŒ‡å®šæˆ‘å€‘è¦çš„ node ç‰ˆæœ¬ï¼Œæ”¾åˆ°æˆ‘å€‘è‡ªå·±çš„ S3 ä¸Šã€‚é€™æ¨£ä¹Ÿä¸éœ€è¦é­”æ”¹å¤ªå¤šæ±è¥¿XD&lt;/p&gt;

&lt;p&gt;ä¸éé€™é‚Šè¦ &lt;strong&gt;ç‰¹åˆ¥æ³¨æ„&lt;/strong&gt;ï¼Œ&lt;strong&gt;æ³¨æ„ï¼æ³¨æ„ï¼æ³¨æ„ï¼&lt;/strong&gt;ï¼Œæ—¢ç„¶æˆ‘å€‘æŠŠ asset_url æ”¹æ‰äº†ï¼Œé‚£ä¹‹å¾Œ berkshelf å„ç¨®ç©æ„å…’éƒ½æœƒè©¦åœ–å¾æˆ‘å€‘æ–°é–‹çš„ S3 bucket æŠ“ï¼Œæ‰€æœ‰æœƒç”¨åˆ°çš„å¥—ä»¶ç­‰ç­‰éƒ½è¦è¨˜å¾—æ”¾ä¸Šä¾†ã€‚&lt;/p&gt;

&lt;p&gt;æ¯”æ–¹èªªæˆ‘ç”¨ Rails çš„ cookbookï¼Œå°±ä¸èƒ½å°‘äº† rubyã€‚å¦‚æœé–‹æ©Ÿå™¨å¤±æ•—äº†ï¼Œå¯ä»¥æª¢æŸ¥ä¸€ä¸‹ logï¼Œæ‡‰è©²æœƒå‘Šè¨´ä½ æ˜¯å°‘äº†å“ªä¸€å€‹ package æ‰æœƒ setup å¤±æ•—ã€‚åœ¨ S3 è£œä¸Šå°æ‡‰çš„ package å³å¯ã€‚&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Failed to download asset opsworks-ruby2.5 for Install user space OpsWorks ruby package with url https://your-bucket-name.s3-your-region.amazonaws.com/packages/amazon/2018.03/opsworks-ruby25-2.5.1-1.x86_64.rpm.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;override-attributes--ä¸Šå‚³-package-file--å®Œæˆ&quot;&gt;Override Attributes + ä¸Šå‚³ package file = å®Œæˆï¼&lt;/h2&gt;

&lt;p&gt;æ‰€ä»¥æˆ‘å€‘è¦åšçš„äº‹æƒ…æ˜¯ï¼Œæƒ³è¾¦æ³•è“‹æ‰åŸæœ¬çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;opsworks_nodejs&lt;/code&gt; çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;version&lt;/code&gt;ï¼Œç„¶å¾ŒæŠŠå°æ‡‰çš„ package å‚³ä¸Š S3ã€‚&lt;/p&gt;

&lt;p&gt;è‡³æ–¼æ€éº¼è¦†è“‹æ‰ versionï¼Œå¯ä»¥çœ‹çœ‹ &lt;code class=&quot;highlighter-rouge&quot;&gt;opsworks_commons/attributes/customize.rb&lt;/code&gt; ä¸Šé¢çš„èªªæ˜&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;###&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# This is the place to override the opsworks_commons cookbook's default attributes.&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# Do not edit THIS file directly. Instead, create&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# &quot;opsworks_commons/attributes/customize.rb&quot; in your cookbook repository and&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# put the overrides in YOUR customize.rb file.&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;###&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä»–å¸Œæœ›ä½ å¦å¤–é–‹å€‹ custom-cookbookï¼Œåœ¨è£¡é¢ç•™ä¸‹é€™å€‹ customize.rb ä¾†è“‹æ‰ version çš„å€¼ã€‚æ‰€ä»¥æˆ‘å€‘å¯ä»¥å…ˆåˆ° GitHub ï¼ˆæˆ–å…¶ä»–ä½ å–œæ­¡çš„å¹³å°wï¼‰é–‹å€‹ repo ä¾†æ”¾ä½ çš„ custom-cookbookï¼Œç„¶å¾Œåœ¨è£¡é¢è¤‡è£½è²¼ä¸Š &lt;code class=&quot;highlighter-rouge&quot;&gt;opsworks_commons/attributes/customize.rb&lt;/code&gt;ï¼ˆé‚£å€‹è¨»è§£è¦ä¸è¦ç•™è‘—çœ‹ä½ ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨è£¡é¢åŠ ä¸Šä½ è¦çš„ node ç‰ˆæœ¬ï¼š&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;normal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:opsworks_nodejs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:version&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'12.18.3'&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¨˜å¾—è¦å»æ”¹ Stack settingï¼Œåˆ°&lt;code class=&quot;highlighter-rouge&quot;&gt;Use custom Chef cookbooks&lt;/code&gt; çš„å€å¡ŠæŠŠé€™å€‹ custom-cookbook çš„ repo URLã€branch name åŠ é€²å»ã€‚&lt;/p&gt;

&lt;p&gt;å®Œæˆç¬¬ä¸€éƒ¨åˆ†äº†ï¼Œæ¥è‘—ä¾†åšç¬¬äºŒéƒ¨åˆ†ã€‚åˆ° S3 é–‹å€‹ bucket ï¼ˆåå­—çœ‹èµ·ä¾†å°±æ˜¯è·Ÿ OpsWorks æœ‰é—œä¸”ä¸æœƒèª¤åˆªå³å¯wï¼‰ã€‚æ ¹æ“šå°æ‡‰çš„ path ä¾†æ”¾ä½ çš„ assetsã€‚åƒä¸Šé¢æåˆ°çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;/packages/amazon/2018.03&lt;/code&gt; é€™æ¨£ã€‚ç„¶å¾ŒæŠŠ deb/rpm file å‚³ä¸Šä¾†ï¼Œåå­—æ”¹ä¸€æ”¹ã€‚åƒæ˜¯æˆ‘é™¤äº† node é‚„æœƒç”¨åˆ° berkshelf å’Œ rubyï¼Œé€™äº›ä¹Ÿè¦æ”¾ä¸Šä¾†ã€‚&lt;/p&gt;

&lt;p&gt;ç„¶å¾Œåœ¨ custom json åŠ ä¸Šæ–°é–‹çš„ bucketï¼š&lt;/p&gt;
&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;s2&quot;&gt;&quot;opsworks_commons&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;assets_url&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;https://your-bucket-name.s3-your-region.amazonaws.com&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æœ€å¾Œå»é–‹å°æ–°çš„æ©Ÿå™¨ï¼ˆæˆ–æ˜¯æŠŠèˆŠçš„åœæ‰é‡é–‹ï¼‰ï¼Œçœ‹çœ‹æœ‰æ²’æœ‰é †åˆ©å®Œæˆ setupã€‚å¦‚æœç•¶åˆæª”åæˆ– path æœ‰è¨­å®šéŒ¯ï¼Œæ‡‰è©²éƒ½å¯ä»¥åœ¨ log ä¸­æ‰¾åˆ°éŒ¯èª¤è¨Šæ¯ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœé †åˆ© setup äº†ï¼Œé€£ä¸Šæ©Ÿå™¨æª¢æŸ¥ä¸€ä¸‹ node ç‰ˆæœ¬æ˜¯ä¸æ˜¯å°çš„ã€‚&lt;/p&gt;

&lt;p&gt;åŒ…å«æ©Ÿå™¨é–‹é–‹é—œé—œçš„éç¨‹å¯èƒ½ä¸æ­¢ä¸‰åˆ†é˜XD é€™æ¨£æ˜¯ä¸æ˜¯æœ‰é»æ¨™é¡Œè©æ¬º ğŸ¤­&lt;/p&gt;

&lt;h2 id=&quot;åŒå ´åŠ æ˜ æ¶ˆå¤±çš„-ruby-24-èˆ‡-25&quot;&gt;åŒå ´åŠ æ˜ ï¼šæ¶ˆå¤±çš„ Ruby 2.4 èˆ‡ 2.5&lt;/h2&gt;
&lt;p&gt;å¦‚æœä½ æœ‰è¨­å®šé Rails App Serverï¼Œæœƒç™¼ç¾åªæœ‰ Ruby 2.1ã€2.2ã€2.3ã€2.6ã€‚&lt;/p&gt;

&lt;p&gt;å’¦ï¼Ÿ2.4 è·Ÿ 2.5 é£›å»å“ªäº†ï¼Ÿå¦‚æœæˆ‘æƒ³ç”¨ 2.5 è¦æ€éº¼è¾¦ï¼Ÿ&lt;/p&gt;

&lt;p&gt;é€™ä»¶äº‹æƒ…ä¹Ÿæ˜¯æœ‰äºº&lt;a href=&quot;https://github.com/aws/opsworks-cookbooks/issues/421&quot;&gt;æŠ±æ€¨&lt;/a&gt;éï¼Œå®˜æ–¹ç›®å‰ç½®ä¹‹ä¸ç†ï¼ˆï¼Ÿï¼‰&lt;/p&gt;

&lt;p&gt;ä¸éæœ‰å–„è‰¯çš„ user ä¸Šä¾†å‘Šè¨´å¤§å®¶è§£æ–¹ï¼Œå…¶å¯¦&lt;a href=&quot;https://github.com/aws/opsworks-cookbooks/issues/421#issuecomment-423540014&quot;&gt;è§£æ³•&lt;/a&gt;è·Ÿä¸Šè¿° nodejs çš„å·®ä¸å¤šï¼Œä¸€æ¨£æ˜¯æ”¹æ‰ ruby ç‰ˆæœ¬ã€asset urlï¼Œç„¶å¾Œè‡ªå·±æŠŠå„ç¨®å¥—ä»¶åŒ…å‚³ä¸Š S3 é€™æ¨£ã€‚&lt;/p&gt;

&lt;h2 id=&quot;çµè«–&quot;&gt;çµè«–&lt;/h2&gt;

&lt;p&gt;å¯¦éš›ä¸Šæ“ä½œä½¿ç”¨ä»¥å¾Œï¼Œè¦ºå¾— OpsWorks Stack çš„ç¢ºæ˜¯å° DevOps äººåŠ›ä¸è¶³çš„åœ˜éšŠä¾†èªªç›¸ç•¶å‹å–„ï¼Œå¾ˆå¤šæœå‹™éƒ½è¢«æŠ½è±¡æˆå„ç¨® layerï¼Œå¾ˆå¥½åšè¨­å®šã€‚å°¤å…¶æ™‚ä½¿ç”¨ build-in cookbookï¼ŒçœŸçš„æ˜¯æ»‘é¼ é»ä¸€é»ä¸€å€‹å¥½å¥½çš„ç’°å¢ƒå°±å‡ºä¾†äº†ã€‚çœŸçš„æ˜¯å¯ä»¥ç†è§£ç‚ºä»€éº¼æ¥­ä¸»åˆ°ç¾åœ¨éƒ½é‚„æ˜¯ä½¿ç”¨â€¦ (ry&lt;/p&gt;

&lt;p&gt;å¦‚æœä»Šå¹´é‚„æ˜¯ 2018 å¹´ä¹‹é¡çš„ï¼Œæˆ‘å¯èƒ½é‚„æ˜¯æœƒè¦ºå¾— OpsWorks Stacks çœŸæ˜¯æ£’ owo&lt;/p&gt;

&lt;p&gt;ä¸éå“ªå¤©æ²’æœ‰å¤ªå¤š issue çºèº«ï¼Œæˆ‘é‚„æ˜¯æƒ³çœ‹çœ‹æ˜¯å¦èƒ½æ”¹ç”¨å…¶ä»–å·¥å…·www&lt;/p&gt;

&lt;p&gt;æœ€å¾Œä¹Ÿå¸Œæœ›å¤§å®¶éƒ½æœ‰æˆåŠŸæŠŠ node è¨­å®šæˆæƒ³è¦çš„ç‰ˆæœ¬ï¼Œä¸€åˆ‡é †åˆ© ğŸŒŸ&lt;/p&gt;</content><author><name>æ–‡æœˆ</name></author><category term="opsworks" /><category term="nodejs" /><summary type="html">æœ€è¿‘åšæ¡ˆå­æ‰ç¬¬ä¸€æ¬¡ç¢°åˆ° Opsworks Stackï¼Œç„¶è€Œå‰›ç¢°åˆ°é€™å€‹å·¥å…·è¦ºå¾—éå¸¸å®³æ€•ã€‚é¦–å…ˆç•¶ä½ åœ¨æ–°å¢ stack çš„æ™‚å€™ï¼Œæœƒç™¼ç¾åªæœ‰ Chef 11 çš„ stack å’Œ Chef 12 çš„ stackã€‚</summary></entry><entry><title type="html">[SQL] ç‚ºä»€éº¼è¦å¤šä¸€å¼µè¡¨è™•ç†å¤šå°å¤šé—œä¿‚ï¼ŸæŠŠæ•¸å€¼éƒ½é€—è™Ÿåˆ†éš”å­˜èµ·ä¾†ä¸è¡Œå—ï¼Ÿ</title><link href="/blog/sql-no-comma-seperated-list" rel="alternate" type="text/html" title="[SQL] ç‚ºä»€éº¼è¦å¤šä¸€å¼µè¡¨è™•ç†å¤šå°å¤šé—œä¿‚ï¼ŸæŠŠæ•¸å€¼éƒ½é€—è™Ÿåˆ†éš”å­˜èµ·ä¾†ä¸è¡Œå—ï¼Ÿ" /><published>2020-04-29T14:13:00+08:00</published><updated>2020-04-29T14:13:00+08:00</updated><id>/blog/sql-no-comma-seperated-list</id><content type="html" xml:base="/blog/sql-no-comma-seperated-list">&lt;p&gt;æƒ³ç•¶åˆå°çš„åœ¨å­¸æ ¡å­¸ SQL çš„æ™‚å€™ï¼Œå¾ä¾†æ²’æœ‰ä»”ç´°æƒ³éç‚ºä»€éº¼çš„å¤šå°å¤šé—œè¯éƒ½è¦å†å¤šç”¨ä¸€å€‹ table ä¾†è™•ç†ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœç›´æ¥æŠŠè³‡æ–™æƒ³è¾¦æ³•å¡åœ¨ä¸€å€‹æ¬„ä½è£¡ï¼Œæ¯”æ–¹èªªåœ¨ table &lt;code class=&quot;highlighter-rouge&quot;&gt;users&lt;/code&gt; ä¸Šæ–°å¢ &lt;code class=&quot;highlighter-rouge&quot;&gt;orders&lt;/code&gt; æ¬„ä½ï¼ˆtype ç‚º &lt;code class=&quot;highlighter-rouge&quot;&gt;VARCHAR&lt;/code&gt;ï¼‰ï¼ŒæŠŠ order_id å€‘åƒæ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;1, 34, 135&lt;/code&gt; é€™æ¨£åœ°å¡åœ¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;orders&lt;/code&gt;æ¬„ä½ä¸­ï¼Œä¸æ˜¯ä¹Ÿå¯ä»¥å—ï¼Ÿï¼ˆæˆ–æ˜¯åéä¾†æ–°å¢ &lt;code class=&quot;highlighter-rouge&quot;&gt;users&lt;/code&gt; æ¬„ä½åœ¨è³‡æ–™è¡¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;orders&lt;/code&gt; ä¸Šï¼‰&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;id&lt;/th&gt;
      &lt;th&gt;name&lt;/th&gt;
      &lt;th&gt;â€¦.&lt;/th&gt;
      &lt;th&gt;orders&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;Grace&lt;/td&gt;
      &lt;td&gt;â€¦.&lt;/td&gt;
      &lt;td&gt;2, 14, 65, 11&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;Carol&lt;/td&gt;
      &lt;td&gt;â€¦.&lt;/td&gt;
      &lt;td&gt;3, 2, 1, 12, 100&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;ä¹è½ä¹‹ä¸‹ï¼Œé€™å€‹æƒ³æ³•çœŸæ˜¯è°æ˜ï¼Œé€™æ¨£å°±å¯ä»¥çœå¾—æ–°å¢ä¸€å€‹è¡¨æ ¼å‘¢ï¼&lt;/p&gt;

&lt;p&gt;ä½†æ˜¯ä»Šå¤©å°±è¦ç‚ºå¤§å®¶ç ´é™¤é€™å€‹è¿·æ€ï¼Œä¸€ä½†è©¦äº†ä¸€æ¬¡é€™å€‹æ–¹æ³•ï¼Œ&lt;strong&gt;æœªä¾†ææ€•å¾Œæ‚£ç„¡çª®&lt;/strong&gt;ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;æœªä¾†ææ€•å¾Œæ‚£ç„¡çª®&lt;/strong&gt;ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;æœªä¾†ææ€•å¾Œæ‚£ç„¡çª®&lt;/strong&gt;ã€‚&lt;/p&gt;

&lt;p&gt;å› ç‚ºå¾ˆé‡è¦æ‰€ä»¥èªªä¸‰æ¬¡ï¼ˆå’¦ï¼‰&lt;/p&gt;

&lt;p&gt;å¤§å®¶å‹™å¿…ä¸‰æ€ä»¥å¾Œå†è€ƒæ…®é€™æ¨£è¨­è¨ˆ schema å‘¢ã€‚&lt;/p&gt;

&lt;h2 id=&quot;problem-1-ç•¶æˆ‘æƒ³è¦åœ¨-users-è£¡-where-order_id--11å»ç™¼ç¾è¡Œä¸é€š&quot;&gt;Problem 1: ç•¶æˆ‘æƒ³è¦åœ¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;users&lt;/code&gt; è£¡ &lt;code class=&quot;highlighter-rouge&quot;&gt;WHERE order_id = 11&lt;/code&gt;ï¼Œå»ç™¼ç¾è¡Œä¸é€šã€‚&lt;/h2&gt;

&lt;p&gt;å¦‚æœæˆ‘&lt;del&gt;æ²’æœ‰æ¡ç”¨é€™å¤§è†½çš„æƒ³æ³•&lt;/del&gt;ä¹–ä¹–åœ°æŠŠ user è·Ÿ order ç”¨å¦ä¸€å¼µè¡¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;user_orders&lt;/code&gt; ä¾†æ•´ç†ä»–å€‘ä¹‹é–“çš„å¤šå°å¤šé—œä¿‚ï¼Œå°±å¯ä»¥åƒé€™æ¨£æŸ¥æ‰¾ id ç‚º 11 çš„ order å°æ‡‰åˆ°å“ªäº› userï¼š&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;JOIN&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_orders&lt;/span&gt;
                          &lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_orders&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;order_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;11&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä½†å¦‚æœä»Šå¤©æ˜¯ä¸Šé¢é‚£å€‹å­˜ comma-seperated list çš„åšæ³•å‘¢ï¼Ÿ&lt;/p&gt;

&lt;p&gt;é€™å€‹æ™‚å€™åªå¥½æ”¹å¯«é†œä¸€é»çš„ SQL query ä¾†æŸ¥æ‰¾ä½ è¦çš„ usersï¼Œæ¯”æ–¹èªªæƒ³è¾¦æ³•ç”¨ REGEXP å» match å®ƒï¼š&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;orders&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;REGEXP&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'[[:&amp;lt;:]]11[[:&amp;gt;:]]'&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¸€æ–¹é¢è¦æå¿ƒåŠè†½è‡ªå·±çš„ REGEXP æ²’å¯«æ³•ï¼Œæœƒ match åˆ°ä¸è©² match çš„ï¼Œå¦ä¸€æ–¹é¢é‚„è¦æ“”å¿ƒè³‡æ–™æœ‰ä¸ç¬¦åˆè¦ç¯„çš„æ±è¥¿ï¼Œä¾‹å¦‚ &lt;code class=&quot;highlighter-rouge&quot;&gt;1, 2, 4, 11aaaa, 12&lt;/code&gt; ç­‰ç­‰ã€‚è‡ªå·± match è³‡æ–™æ™‚å‡ºéŒ¯çš„é¢¨éšªä¹Ÿå¤§å¤§æé«˜ã€‚&lt;/p&gt;

&lt;p&gt;é™¤æ­¤ä¹‹å¤–ï¼ŒæŸ¥æ‰¾ order_id çš„éƒ¨åˆ†ä¹Ÿç„¡æ³•åŠ  index ä¾†æå‡æ•ˆèƒ½ã€‚&lt;/p&gt;

&lt;h2 id=&quot;problem-2-å¾ˆé›£åéä¾†æ‰¾ä½¿ç”¨è€…çš„è¨‚å–®è³‡æ–™&quot;&gt;Problem 2: å¾ˆé›£åéä¾†æ‰¾ä½¿ç”¨è€…çš„è¨‚å–®è³‡æ–™&lt;/h2&gt;

&lt;p&gt;æ¥è‘—ï¼Œå¦‚æœæˆ‘ä»Šå¤©æƒ³è¦æ‰¾&lt;code class=&quot;highlighter-rouge&quot;&gt;id&lt;/code&gt; ç‚º 1 çš„ user çš„è¨‚å–®è³‡æ–™ï¼Œå¦‚æœæ˜¯ä¹–ä¹–æ–°å¢ç¬¬ä¸‰å¼µè¡¨çš„æ™‚å€™ï¼Œå¯ä»¥ç°¡å–®åœ° join table è§£æ±ºã€‚å¦‚æœæ˜¯ç¾åœ¨é€™å€‹ comma-seperated list çš„ä½œæ³•ï¼Œå°±åªå¥½å†ä¾†å¯«é†œé†œçš„ SQLï¼š&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;JOIN&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;orders&lt;/span&gt;
                    &lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;orders&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;REGEXP&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'[[:&amp;lt;:]]'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;orders&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'[[:&amp;gt;:]]'&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ˜¯å¦é–‹å§‹æ„Ÿè¦ºåˆ°ç‚ºäº†ä¸€æ™‚è¼•ç‡çš„é¸æ“‡ï¼Œé€ æˆçš„å¾Œæœè¦ç”¨ä¸€ä¸–ä¾†å½Œè£œï¼ˆæ¬¸ï¼‰&lt;/p&gt;

&lt;p&gt;ç„¶è€Œå•é¡Œé‚„æ²’å®Œï¼Œè®“æˆ‘å€‘æœ›å‘ç¬¬ä¸‰å€‹å•é¡Œã€‚&lt;/p&gt;

&lt;h2 id=&quot;problem-3-ä¸èƒ½ç”¨sumavg-ç­‰ç­‰-function-ä¾†åš-aggregate-queries&quot;&gt;Problem 3: ä¸èƒ½ç”¨&lt;code class=&quot;highlighter-rouge&quot;&gt;SUM()&lt;/code&gt;ã€&lt;code class=&quot;highlighter-rouge&quot;&gt;AVG()&lt;/code&gt; ç­‰ç­‰ function ä¾†åš aggregate queries&lt;/h2&gt;

&lt;p&gt;å¦‚æœä»Šå¤©ä½ æƒ³è¦çµ±è¨ˆæ¯å€‹ä½¿ç”¨è€…æœ‰å¤šå°‘è¨‚å–®ï¼Œå¦‚æœæ˜¯å¥½å¥½åœ°ä½¿ç”¨ç¬¬ä¸‰å¼µè¡¨çš„åšæ³•ï¼Œå°±å¯ä»¥ç°¡å–®åœ°ä½¿ç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;SUM()&lt;/code&gt; ä¾†æ‰¾å‡ºè¨‚å–®æ•¸é‡ï¼š&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SUM&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_orders&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;order_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;JOIN&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_orders&lt;/span&gt;
                                            &lt;span class=&quot;k&quot;&gt;ON&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_orders&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;GROUP&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;BY&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä½†æ˜¯ç”¨äº† comma-seperated list ä»¥å¾Œï¼Œé€™äº›è³‡æ–™ä¸æ˜¯åˆ†é–‹ä¸€å€‹ row ä¸€å€‹ rowï¼Œè€Œæ˜¯å…¨éƒ¨æ“ åœ¨æŸå€‹ user çš„ä¸€å€‹æ¬„ä½è£¡ã€‚é€™å€‹æ™‚å€™è¦è¨ˆç®—è¨‚å–®æ•¸é‡åªå¥½ç”¨ä¸€äº›å¥‡å¦™çš„æ–¹æ³•ä¾†è§£æ±ºã€‚&lt;/p&gt;

&lt;p&gt;æ¯”æ–¹èªªï¼Œå¦‚æœä¿è­‰æ¯å€‹ä½¿ç”¨è€…ä¸€å®šæœ‰å°æ‡‰çš„å¸³å–®çš„è©±ï¼Œå°±å¯ä»¥é€éã€Œé€—é»çš„æ•¸é‡ã€ä¾†è¨ˆç®—æœ‰å¹¾ç­†è¨‚å–®ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;12&lt;/code&gt;: ä¸€ç­†è¨‚å–®&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;12, 27&lt;/code&gt;: å…©ç­†è¨‚å–®&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;12, 27, 33&lt;/code&gt;: ä¸‰ç­†è¨‚å–®&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;12, 27, 33, 65&lt;/code&gt;: å››ç­†è¨‚å–®&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä¹Ÿå°±æ˜¯èªªï¼Œé€—é»æ•¸é‡ + 1 æœƒæ˜¯è¨‚å–®æ•¸é‡ã€‚æ–¼æ˜¯å°±å¯ä»¥é€é (ç¸½å­—æ•¸) - (å»æ‰ &lt;code class=&quot;highlighter-rouge&quot;&gt;,&lt;/code&gt; çš„å­—æ•¸) ä¾†è¨ˆç®—æœ‰å¹¾å€‹é€—è™Ÿã€‚&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;orders&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;REPLACE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;orders&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;','&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;''&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;users&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;problem-4-é †åºå•é¡Œ&quot;&gt;Problem 4: é †åºå•é¡Œ&lt;/h2&gt;

&lt;p&gt;æƒ³åˆ°é€™å€‹ comma-seperated list çš„åšæ³•çš„æœ‹å‹å€‘ï¼Œå¯èƒ½æœƒæƒ³èªªé€™å€‹åšæ³•æœ€ç°¡å–®çš„åœ°æ–¹åœ¨æ–¼ï¼Œå¯ä»¥ç°¡å–®åœ° append æ–°çš„ order_id åœ¨æ¬„ä½çš„æœ€å¾Œé¢ã€‚æ¯”æ–¹èªªï¼Œid ç‚º 5 çš„ user åŸæœ¬çš„ orders æ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;11, 14, 18&lt;/code&gt;ï¼Œå¦‚æœè¦å»ºç«‹ä»–è·Ÿ id ç‚º 20 å¸³å–®çš„é—œä¿‚ï¼Œåªè¦åœ¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;11, 14, 18&lt;/code&gt; å¾Œé¢åŠ ä¸Šé€—è™Ÿèˆ‡ 20 å°±å¥½ï¼Œè®Šæˆ &lt;code class=&quot;highlighter-rouge&quot;&gt;11, 14, 18, 20&lt;/code&gt; é€™æ¨£ã€‚&lt;/p&gt;

&lt;p&gt;ä½†æ˜¯å¦‚æœä»Šå¤©æ­£å¥½è¦åŠ é€²ä¾†çš„ id æ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;5&lt;/code&gt;ï¼Œå°±æœƒè®Šæˆ &lt;code class=&quot;highlighter-rouge&quot;&gt;11, 14, 18, 5&lt;/code&gt;ï¼Œç¶“éæ—¥æ—¥å¤œå¤œçš„ç´¯ç©ï¼Œä½ çš„ orders è®Šå¾—é †åºé›œäº‚ã€‚å“ªå¤©éœ€è¦ç…§é †åºçš„ id çš„æ™‚å€™ï¼Œåªå¥½ä¸€å€‹ row ä¸€å€‹ row çš„è³‡æ–™æŠ“å‡ºä¾†æ’åºQQ&lt;/p&gt;

&lt;p&gt;é€™å€‹æ™‚å€™ä½ æˆ–è¨±æœƒæƒ³èªªï¼šã€Œå“¦å“¦ï¼Œé‚£æˆ‘å†æŠŠå®ƒå¡é€²å»è³‡æ–™åº«ä¹‹å‰ï¼Œå…ˆæŠŠæ–°åŠ çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;5&lt;/code&gt; æ”¾åˆ°æ­£ç¢ºçš„ä½ç½®ï¼é€™æ¨£å°±æ²’å•é¡Œäº†å§ï¼Ÿã€&lt;/p&gt;

&lt;p&gt;çš„ç¢ºæ˜¯å¦‚æ­¤ï¼Œé€™å€‹æ™‚å€™å¿…é ˆè¦è·‘å…©å€‹ queryï¼Œä¸€å€‹æŠŠèˆŠè³‡æ–™æ’ˆå‡ºä¾†ï¼Œä¸‹ä¸€å€‹æŠŠä½ æŠŠ &lt;code class=&quot;highlighter-rouge&quot;&gt;5&lt;/code&gt; åŠ å¥½çš„è³‡æ–™å¡å›å»ã€‚åªæ˜¯ç•¶åˆå¥½å¥½åœ°æ–°å¢ä¸€å¼µè¡¨ï¼Œç¾åœ¨å°±å¯ä»¥ç”¨ä¸€å€‹ SQL å°±æ–°å¢æ–°çš„ order_idï¼ŒæŸ¥è©¢æ™‚ä¹Ÿå¯ä»¥ç”¨ ORDER BY ç„¡ç—›è§£æ±ºæ’åºå•é¡Œã€‚&lt;/p&gt;

&lt;h2 id=&quot;problem-5-åˆªé™¤ç‰¹å®š-id&quot;&gt;Problem 5: åˆªé™¤ç‰¹å®š id&lt;/h2&gt;

&lt;p&gt;å†ä¾†ä¸‹ä¸€å€‹é›£é¡Œæ˜¯ï¼Œè©²å¦‚ä½•åˆªæ‰ç‰¹å®šçš„ id å‘¢ï¼Ÿ&lt;/p&gt;

&lt;p&gt;ä¸€æ¨£è¦è·‘å…©å€‹ queryï¼Œä¸€å€‹æŠŠè³‡æ–™æ’ˆå‡ºä¾†ï¼Œè‡ªå·±å¯«ç¨‹å¼æ‰¾å‡º id åœ¨å“ªï¼Œå»æ‰ä»¥å¾Œå†æŠŠæ–°å­—ä¸²å¡å›å»ã€‚&lt;/p&gt;

&lt;p&gt;é–‹å§‹æ„Ÿè¦ºåˆ°åšå‡ºäº†éŒ¯èª¤çš„æŠ‰æ“‡ï¼Œæœƒè®“æ—¥å¾Œçš„ç¶­è­·å¾ˆé˜¿é›œXD&lt;/p&gt;

&lt;h2 id=&quot;problem-6-è³‡æ–™é©—è­‰&quot;&gt;Problem 6: è³‡æ–™é©—è­‰&lt;/h2&gt;

&lt;p&gt;ç”¨äº† comma-seperated list çš„åšæ³•ä»¥å¾Œï¼Œå› ç‚º order_id çš„è³‡æ–™ä¸æ˜¯ä¸€å€‹å€‹ row ç¨ç«‹å­˜èµ·ä¾†çš„ï¼Œå·²ç¶“ç„¡æ³•é€éå»ºç«‹ constraint ä¾†ç®¡ç†è³‡æ–™çš„æ­£ç¢ºæ€§èˆ‡å®Œæ•´æ€§ã€‚ç•¶ SQL ä¸å†å¹«ä½ æª¢é©— constraintï¼Œå¦‚æœç¨‹å¼é‚£é‚Šæ²’æœ‰æª¢æŸ¥å¥½ï¼Œåˆ°æ™‚å€™é€£è‡ªå·±éƒ½ä¸æœƒçŸ¥é“æ¬„ä½è¢«äº‚å¡äº†ä»€éº¼æ±è¥¿ï¼ˆeg. &lt;code class=&quot;highlighter-rouge&quot;&gt;3, 12, 1, banana&lt;/code&gt;ï¼‰&lt;/p&gt;

&lt;h2 id=&quot;problem-7-seperator-è¢«ç•¶æˆ-string-çš„ä¸€éƒ¨åˆ†&quot;&gt;Problem 7: seperator è¢«ç•¶æˆ string çš„ä¸€éƒ¨åˆ†&lt;/h2&gt;

&lt;p&gt;å‡è¨­ä»Šå¤© order_id æœ‰å¯èƒ½ä½¿ç”¨è€…è‡ªè¨‚çš„å­—ä¸²ï¼Œä»Šå¤©æœ‰å€‹å£å¿ƒçœ¼çš„ä½¿ç”¨è€…ï¼ŒæŠŠ &lt;code class=&quot;highlighter-rouge&quot;&gt;a,b,c&lt;/code&gt; ç•¶æˆ order_idã€‚æ–¼æ˜¯é€™å€‹ user çš„ orders å°±å¤šäº† &lt;code class=&quot;highlighter-rouge&quot;&gt;a,b,c&lt;/code&gt;ã€‚ç•¶ä½ è¦è§£æé€™å€‹ä½¿ç”¨è€…æœ‰å“ªäº›è¨‚å–®æ™‚ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;a,b,c&lt;/code&gt; å°±å¾ˆé–‹å¿ƒåœ°è¢«è§£ææˆ &lt;code class=&quot;highlighter-rouge&quot;&gt;a&lt;/code&gt;,&lt;code class=&quot;highlighter-rouge&quot;&gt;b&lt;/code&gt;,&lt;code class=&quot;highlighter-rouge&quot;&gt;c&lt;/code&gt;ï¼Œç„¶å¾Œä½¿ç”¨è€…æ°¸é éƒ½ç„¡æ³•æ­£å¸¸åœ°æ‰¾å›ä»–çš„è³‡æ–™ã€‚&lt;/p&gt;

&lt;p&gt;æ–¼æ˜¯å¤§å®¶å¯èƒ½æœƒé–‹å§‹æƒ³ï¼Œæˆ‘å°±ç”¨ä¸€å€‹æ­£å¸¸äººä¸å¯èƒ½æ‹¿ä¾†ç”¨çš„å­—å…ƒç•¶ seperator å§ï¼æˆ–è€…æ˜¯åœ¨å­˜å…¥ order_id æ™‚å°±é™åˆ¶ä¸å¯ä»¥ç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;,&lt;/code&gt; é€™å€‹å­—å…ƒã€‚çš„ç¢ºæ˜¯å¯ä»¥é€™æ¨£ä¿®æ­£ï¼Œä½†å¦‚æœæ˜¯åŠŸèƒ½éƒ½é–‹ç™¼ä¸‹å»ã€è¢«ä½¿ç”¨äº†æ‰å‡ºäº‹ï¼Œä¸­é€”æ¶æ•‘ä¹Ÿæœƒå¾ˆéº»ç…©ã€‚&lt;/p&gt;

&lt;h2 id=&quot;problem-8é•·åº¦é™åˆ¶&quot;&gt;Problem 8:é•·åº¦é™åˆ¶&lt;/h2&gt;
&lt;p&gt;ç•¢ç«Ÿæ˜¯ç”¨ä¸€å€‹æ¬„ä½ä¾†å­˜ order_id å€‘ï¼Œå°±è¦ç‰¹åˆ¥æ³¨æ„é•·åº¦é™åˆ¶ã€‚æ¯”æ–¹èªª &lt;code class=&quot;highlighter-rouge&quot;&gt;user_id&lt;/code&gt; æ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;VARCHAR(255)&lt;/code&gt;ï¼Œå¦‚æœè£¡é¢å¡é•·åº¦ç‚º 9 çš„å­—ä¸²ï¼Œå¯ä»¥å¡åˆ° 25 å€‹æ‰æœƒçˆ†ç‚¸ã€‚æ–¼æ˜¯ä½ åªå¥½æƒ³è¾¦æ³•èªªæœä½ çš„å®¢æˆ¶ï¼Œä¸€å€‹ user å°±æ˜¯ä¸èƒ½æœ‰å¤ªå¤š orderã€‚&lt;/p&gt;

&lt;p&gt;é€™å€‹æ™‚å€™ï¼Œä½ å¿ƒä¸­çš„å°æƒ¡é­”å¯èƒ½æœƒå†’å‡ºä¾†è·Ÿä½ èªªï¼š&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;é½é½é½ï¼Œæœ‰ä»€éº¼é—œä¿‚ï¼Œç”¨ TEXT æˆ‘å¯ä»¥å¡åˆ° 65535 bytes å‘¢ ãƒ½(Ìâ—•â—à±ªâ—Ÿâ—•â€µ)ï¾‰
TEXT ä¸å¤ æˆ‘å¯ä»¥ç”¨ LONGTEXT å‘€ (â˜ Õà¨Š Õï¼‰â˜&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æ‹œè¨—â€¦.æ‹œè¨—ä¸è¦äº‚ä¾†ï¼ˆæ¬¸&lt;/p&gt;

&lt;p&gt;ä»¥ä¸Šå·²ç¶“æå‡ºé€™ç¨®æ–¹æ³•çš„å…«å€‹ç–‘æ…®äº†ï¼Œå°±ä¸è¦å†ç”¨é‚ªé­”æ­ªé“èˆ‡å¤§é‡ workaround ä¾†è™•ç†äº‹æƒ…äº†å§ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å¦‚ä½•ç™¼ç¾é€™å€‹-antipattern&quot;&gt;å¦‚ä½•ç™¼ç¾é€™å€‹ Antipattern&lt;/h2&gt;

&lt;p&gt;ç•¶å°ˆæ¡ˆå°å¤¥ä¼´å•ä½ ï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;ã€Œé€™å€‹ list æœ€å¤šæœƒæœ‰å¹¾å€‹ entries å‘¢ï¼Ÿã€
ä»£è¡¨ä»–å·²ç¶“åœ¨ç®— VARCHAR é•·åº¦è¦çµ¦å¤šå°‘äº† ãƒ½(Ìâ—•â—à±ªâ—Ÿâ—•â€µ)ï¾‰&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;ã€Œç”¨ SQL è¦æ€éº¼ match word boundary å‘¢ï¼Ÿã€
æ¥µæœ‰å¯èƒ½ä»–æ­£åœ¨æ€é‡æ€éº¼å¾ list è£¡æŒ‘å‡ºæŸå€‹ entry (ä¾‹å­è£¡çš„ order_id) &amp;gt;&amp;lt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;ã€Œé€™äº› entries è£¡æœƒå‡ºç¾å“ªäº›ç¬¦è™Ÿå‘¢ï¼Ÿæœ‰ä»€éº¼çµ•å°ä¸å¯èƒ½å‡ºç¾çš„ç‰¹å®šç¬¦è™Ÿå—ï¼Ÿã€
ä»£è¡¨ä»–å·²ç¶“åœ¨è€ƒæ…® seperator è¦ç”¨å“ªå€‹ç¬¦è™Ÿäº† (â˜ Õà¨Š Õï¼‰â˜&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;ä½¿ç”¨é€™å€‹-pattern-çš„åˆç†æƒ…æ³&quot;&gt;ä½¿ç”¨é€™å€‹ pattern çš„åˆç†æƒ…æ³&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;æ¯”æ–¹èªªä½ æœ‰å€‹æ¬„ä½è¦é¡¯ç¤º comma-seperated listï¼Œä½ ä¸æœƒéœ€è¦å–é€™å€‹ list è£¡çš„å–®ä¸€ itemï¼Œé€™å€‹æ™‚å€™ä½ å¯èƒ½æœƒè€ƒæ…®åæ­£è¦åŒ–ä¸€ä¸‹ï¼ŒåŠ äº†æ¬„ä½æ”¾é€™å€‹ comma-seperated list&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;å¾åˆ¥çš„ source å‰›å–å›ä¾†çš„è³‡æ–™ï¼Œæ­£å¥½æœ‰ comma-seperated listã€‚åœ¨ä½  process é€™äº›è³‡æ–™ä¹‹å‰å¯èƒ½æœƒè€ƒæ…®åŸå°ä¸å‹•åœ°å­˜èµ·ä¾†ã€‚&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;è§£æ–¹intersection-table&quot;&gt;è§£æ–¹ï¼šintersection table&lt;/h2&gt;

&lt;p&gt;å°±è·Ÿä»¥å‰å­¸æ ¡è€å¸«è¬›å¾—ä¸€æ¨£ï¼ˆæ¬¸
ä¹–ä¹–åœ°æ–°å¢ä¸€å€‹ table ä¾†å­˜å…¶ä»–å…©å¼µ table å¤šå°å¤šçš„é—œä¿‚ã€‚&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;user_id&lt;/th&gt;
      &lt;th&gt;order_id&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&quot;è£œå……regexp&quot;&gt;è£œå……ï¼šREGEXP&lt;/h2&gt;
&lt;p&gt;åƒè€ƒ &lt;a href=&quot;https://dev.mysql.com/doc/refman/5.7/en/regexp.html#operator_regexp&quot;&gt;Regular Expressions - MYSQL&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;character_class-character_class&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;[=character_class=]&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;[:character_class:]&lt;/code&gt;&lt;/h3&gt;

&lt;p&gt;åœ¨å‰›å‰›å…§æ–‡è£¡æœ‰ç”¨åˆ°çš„ï¼š&lt;/p&gt;

&lt;h3 id=&quot;-&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;[[:&amp;lt;:]], [[:&amp;gt;:]]&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;å¯ä»¥ç”¨ä¾†æŸ¥æ‰¾æœ‰æ²’æœ‰åŒ…å«ç‰¹å®šå­—ä¸²ï¼š&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;mysql&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'a word a'&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;REGEXP&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'[[:&amp;lt;:]]word[[:&amp;gt;:]]'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;   &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;mysql&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'a xword a'&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;REGEXP&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'[[:&amp;lt;:]]word[[:&amp;gt;:]]'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;æœ¬æ–‡æ˜¯åƒè€ƒ Bill Karwin çš„ SQL Antipatterns ç¬¬äºŒç«  Jaywalking å½™æ•´è€Œæˆã€‚åŸæ›¸èªªæ˜äº†å¾ˆå¤šä¸å¤ªå¥½çš„è¨­è¨ˆæ¨¡å¼ï¼Œä»€éº¼æ™‚å€™å¯ä»¥ä½¿ç”¨ä»¥åŠç‚ºä½•è¦é¿å…ä½¿ç”¨ç­‰ç­‰ã€‚å¤§å®¶æœ‰ç©ºå¯ä»¥å»ç¿»é–±çœ‹çœ‹å“¦ã€‚&lt;/p&gt;</content><author><name>æ–‡æœˆ</name></author><category term="sql" /><summary type="html">æƒ³ç•¶åˆå°çš„åœ¨å­¸æ ¡å­¸ SQL çš„æ™‚å€™ï¼Œå¾ä¾†æ²’æœ‰ä»”ç´°æƒ³éç‚ºä»€éº¼çš„å¤šå°å¤šé—œè¯éƒ½è¦å†å¤šç”¨ä¸€å€‹ table ä¾†è™•ç†ã€‚</summary></entry><entry><title type="html">[SQL] ä»€éº¼è¦ primary keyï¼Ÿprimary key ä¸€å®šè¦å« id å—ï¼Ÿ</title><link href="/blog/sql-primary-key" rel="alternate" type="text/html" title="[SQL] ä»€éº¼è¦ primary keyï¼Ÿprimary key ä¸€å®šè¦å« id å—ï¼Ÿ" /><published>2020-04-27T14:13:00+08:00</published><updated>2020-04-27T14:13:00+08:00</updated><id>/blog/sql-primary-key</id><content type="html" xml:base="/blog/sql-primary-key">&lt;h2 id=&quot;å•é¡Œä¸€å¯ä¸å¯ä»¥ä¸è¦-primary-key-æ²’æœ‰-primary-key-æœƒæ€æ¨£&quot;&gt;å•é¡Œä¸€ï¼šå¯ä¸å¯ä»¥ä¸è¦ primary keyï¼Ÿ æ²’æœ‰ primary key æœƒæ€æ¨£ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;primary key ä¸»è¦çš„ä½œç”¨ç‚ºï¼š&lt;/p&gt;

&lt;h3 id=&quot;1-é¿å…ç”¢ç”Ÿä¸€å †é‡è¤‡åˆç„¡æ³•è­˜åˆ¥çš„-row&quot;&gt;1. é¿å…ç”¢ç”Ÿä¸€å †é‡è¤‡åˆç„¡æ³•è­˜åˆ¥çš„ row&lt;/h3&gt;

&lt;p&gt;ä¾‹å¦‚åº•ä¸‹çš„è¡¨æ ¼ï¼Œä¸Šä¸€ç­†è·Ÿä¸‹ä¸€ç­†é•·ä¸€æ¨¡ä¸€æ¨£ï¼Œæ ¹æœ¬ç„¡æ³•è­˜åˆ¥ã€‚&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;name&lt;/th&gt;
      &lt;th&gt;price&lt;/th&gt;
      &lt;th&gt;quantity&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;banana&lt;/td&gt;
      &lt;td&gt;100&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;banana&lt;/td&gt;
      &lt;td&gt;100&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;2-æœ‰è¾¦æ³•æ’ˆåˆ°ç‰¹å®šçš„-row&quot;&gt;2. æœ‰è¾¦æ³•æ’ˆåˆ°ç‰¹å®šçš„ row&lt;/h3&gt;

&lt;p&gt;å¦‚ä¸‹ï¼Œæ¯å€‹ row éƒ½é•·ä¸€æ¨£ï¼Œæ ¹æœ¬ç„¡æ³•æ’ˆåˆ°ç‰¹å®šæŸå€‹ rowã€‚&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;name&lt;/th&gt;
      &lt;th&gt;price&lt;/th&gt;
      &lt;th&gt;quantity&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;banana&lt;/td&gt;
      &lt;td&gt;100&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;banana&lt;/td&gt;
      &lt;td&gt;100&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;ä½†æ˜¯æ”¹æˆé€™æ¨£ï¼š&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;id&lt;/th&gt;
      &lt;th&gt;name&lt;/th&gt;
      &lt;th&gt;price&lt;/th&gt;
      &lt;th&gt;quantity&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;banana&lt;/td&gt;
      &lt;td&gt;100&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;banana&lt;/td&gt;
      &lt;td&gt;100&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;å°±å¯ä»¥ç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;WHERE id = 1&lt;/code&gt; ä¾†æ’ˆåˆ°ç¬¬ä¸€ç­†è³‡æ–™&lt;/p&gt;

&lt;h3 id=&quot;3-foreign-key-reference&quot;&gt;3. foreign key reference&lt;/h3&gt;

&lt;p&gt;æ¯”æ–¹èªªé€™å¼µè¡¨æ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;orders&lt;/code&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;customer&lt;/th&gt;
      &lt;th&gt;date&lt;/th&gt;
      &lt;th&gt;total&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;Carol&lt;/td&gt;
      &lt;td&gt;2020-01-01&lt;/td&gt;
      &lt;td&gt;2000&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Carl&lt;/td&gt;
      &lt;td&gt;2020-01-01&lt;/td&gt;
      &lt;td&gt;500&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Carol&lt;/td&gt;
      &lt;td&gt;2020-01-06&lt;/td&gt;
      &lt;td&gt;2500&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;æœ‰å¦ä¸€å¼µè¡¨æ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;order_items&lt;/code&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;name&lt;/th&gt;
      &lt;th&gt;price&lt;/th&gt;
      &lt;th&gt;quantity&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;banana&lt;/td&gt;
      &lt;td&gt;100&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;banana&lt;/td&gt;
      &lt;td&gt;100&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;å¦‚æœ &lt;code class=&quot;highlighter-rouge&quot;&gt;orders&lt;/code&gt; ä¸Šæ²’æœ‰ primary keyï¼Œç„¡æ³•é€éåœ¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;order_items&lt;/code&gt; åŠ ä¸Š foreign key ä¾† reference orderã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœ &lt;code class=&quot;highlighter-rouge&quot;&gt;orders&lt;/code&gt; æ”¹æˆé€™æ¨£ï¼š&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;id&lt;/th&gt;
      &lt;th&gt;customer&lt;/th&gt;
      &lt;th&gt;date&lt;/th&gt;
      &lt;th&gt;total&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;Carol&lt;/td&gt;
      &lt;td&gt;2020-01-01&lt;/td&gt;
      &lt;td&gt;2000&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;Carl&lt;/td&gt;
      &lt;td&gt;2020-01-01&lt;/td&gt;
      &lt;td&gt;500&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;Carol&lt;/td&gt;
      &lt;td&gt;2020-01-06&lt;/td&gt;
      &lt;td&gt;2500&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;å°±å¯ä»¥ç°¡å–®é€éåœ¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;order_items&lt;/code&gt; ä¸ŠåŠ  &lt;code class=&quot;highlighter-rouge&quot;&gt;order_id&lt;/code&gt;ï¼ŒåŠ ä¸Š foreign key ä¾†åš reference&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;name&lt;/th&gt;
      &lt;th&gt;price&lt;/th&gt;
      &lt;th&gt;quantity&lt;/th&gt;
      &lt;th&gt;order_id&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;banana&lt;/td&gt;
      &lt;td&gt;100&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;banana&lt;/td&gt;
      &lt;td&gt;100&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;æ²’æœ‰ primary key çš„è³‡æ–™ï¼Œå°±åƒæ˜¯æ²’æœ‰æ›¸åçš„æ›¸ï¼Œæ²’æœ‰æ­Œåçš„éŸ³æ¨‚ï¼ˆæ¬¸ï¼‰&lt;strong&gt;å¾ˆå®¹æ˜“é€ æˆæ•´ç†ä¸Šçš„å›°é›£ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;h2 id=&quot;å•é¡ŒäºŒå¦‚ä½•é¸æ“‡-primary-key&quot;&gt;å•é¡ŒäºŒï¼šå¦‚ä½•é¸æ“‡ primary keyï¼Ÿ&lt;/h2&gt;

&lt;p&gt;primary key æœ‰å€‹å¿…å¸¶æ¢ä»¶ï¼šä¸€å®šè¦æ˜¯&lt;strong&gt;å”¯ä¸€ï¼ˆuniqueï¼‰&lt;/strong&gt;çš„ï¼Œä¸å¯ä»¥é‡è¤‡ã€‚&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥ä½ é€šå¸¸æœƒæ‰¾å€‹ unique çš„æ¬„ä½ä¾†ç•¶ primary keyã€‚ç„¶è€Œå¾ˆå¤šå¤§å®¶ä»¥ç‚º unique çš„æ±è¥¿éƒ½æ²’æœ‰ uniqueï¼Œä¾‹å¦‚èº«åˆ†è­‰å­—è™Ÿã€‚ï¼ˆèº«åˆ†è­‰å­—è™Ÿåœ¨å¤æ—©å¹´ä»£æ˜¯æœ‰å¯èƒ½ä¸å°å¿ƒé‡è¤‡ç™¼çš„XDï¼‰&lt;/p&gt;

&lt;p&gt;æˆ–è€…æ˜¯ä½ çœ‹å®Œ spec ä»¥å¾Œä»¥ç‚ºæ‡‰è©²è¦ uniqueï¼Œçµæœå“ªä¸€å¤©è€é—†è·‘ä¾†è·Ÿä½ èªªï¼šã€Œé€™å€‹æ¬„ä½çš„å…§å®¹å¯ä»¥é‡è¤‡å—ï¼Ÿã€çš„è³‡æ–™ã€‚ï¼ˆé€™å€‹æ™‚å€™éƒ½æœƒ OSï¼šè¦ä¸æ˜¯æˆ‘é‚„ä¸èƒ½é›¢è·ï¼Œè¦ä¸ç„¶çœŸæƒ³æ‰“æ‰ä½ XDï¼‰&lt;/p&gt;

&lt;p&gt;åƒæ˜¯ä½¿ç”¨è€…çš„ emailã€é›»è©±ç­‰ç­‰ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœ primary key é€™éº¼é›£é¸æ“‡ï¼Œé¸éŒ¯å°±æœƒé€ æˆè‡ªå·±æ—¥å¾Œé‚„å¾—è¦é€£å¤œåŠ ç­ï¼Œæœ‰çš„æ™‚å€™ä¸å¦‚å°±ç”¨ pseudokey å°±å¥½äº†ã€‚é‚£å…·é«”ä¾†èªª pseudokey æ˜¯ä»€éº¼å‘¢ï¼Ÿ&lt;/p&gt;

&lt;h3 id=&quot;pseudokey-surrogate-key&quot;&gt;Pseudokey (Surrogate key)&lt;/h3&gt;
&lt;p&gt;åŸºæœ¬ä¸Šæ˜¯ä¸€äº›åˆ»æ„å¡çµ¦æ¯å€‹ row çš„è³‡æ–™ï¼Œkey æœ¬èº«å°è³‡æ–™ä¾†èªªæ²’æœ‰ä»»ä½•æ„ç¾©ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘å€‘çœ‹å›å‰›å‰›çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;order_items&lt;/code&gt;ï¼š&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;id&lt;/th&gt;
      &lt;th&gt;name&lt;/th&gt;
      &lt;th&gt;price&lt;/th&gt;
      &lt;th&gt;quantity&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;banana&lt;/td&gt;
      &lt;td&gt;100&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;banana&lt;/td&gt;
      &lt;td&gt;100&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;ä¸Šé¢çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;id&lt;/code&gt; å°æˆ‘ä¾†èªªæ²’æœ‰ä»€éº¼æ„ç¾©å¯è¨€ï¼Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;id&lt;/code&gt; ç‚º 2 ä»€éº¼çš„å°æˆ‘ä¾†èªªä¸€é»æ„ç¾©éƒ½æ²’æœ‰ã€‚ä½†æ˜¯æœ‰äº†é€™å€‹ key ä»¥å¾Œæˆ‘å°±ä¸ç”¨å»æ€è€ƒï¼Œè¦ç”¨å“ªäº›æ¬„ä½ä¾†çµ„åˆæˆ primary key äº†ã€‚&lt;/p&gt;

&lt;p&gt;å„å®¶ DB æä¾› AUTO_INCREMENTã€GENERATOR ç­‰åŠŸèƒ½ä¾†è®“ pseudokey è‡ªå‹•å¢åŠ ï¼Œä¸”å¤šå€‹ client åŒæ™‚ä¾† DB å¡è³‡æ–™ä¹Ÿä¸æœƒé‡è¤‡&lt;/p&gt;

&lt;p&gt;çš„ç¢ºå¾ˆå¸¸è¦‹åˆ°æ•™æè£¡é¢ï¼Œæ¯å¼µè¡¨éƒ½æœ‰ç”¨ä¾†æ”¾ä¸€å€‹ id çš„ primary key æ¬„ä½ï¼Œæœƒ auto incrementï¼Œç”šè‡³æœ‰äº› web framework å°±ç›´æ¥é€™æ¨£è¨­è¨ˆã€‚é€™å€‹æ…£ä¾‹å¾ˆä¸éŒ¯ï¼Œä½†é€™ä¸¦ä¸æ˜¯çµ•å°çš„ã€‚å¦‚æœæœ‰æœ¬ä¾†å°±æœ‰å¯ä»¥æ‹¿ä¾†ç•¶ primary key çš„æ¬„ä½ï¼Œç›´æ¥æ‹¿ä¾†ç”¨ä¹Ÿç„¡å¦¨ã€‚&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;order_id&lt;/th&gt;
      &lt;th&gt;customer&lt;/th&gt;
      &lt;th&gt;date&lt;/th&gt;
      &lt;th&gt;total&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;Carol&lt;/td&gt;
      &lt;td&gt;2020-01-01&lt;/td&gt;
      &lt;td&gt;2000&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;Carl&lt;/td&gt;
      &lt;td&gt;2020-01-01&lt;/td&gt;
      &lt;td&gt;500&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;Carol&lt;/td&gt;
      &lt;td&gt;2020-01-06&lt;/td&gt;
      &lt;td&gt;2500&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;å¾ˆå¤š web framework çš„è¨­è¨ˆè®“æˆ–æ›¸ç±è£¡ï¼Œéƒ½æœƒè®“æ¯å¼µè¡¨çš„ primary key å« idï¼Œç„¶è€Œé€™ä¸æ˜¯çµ•å°çš„ï¼æ¯”æ–¹èªªæŠŠ &lt;code class=&quot;highlighter-rouge&quot;&gt;products&lt;/code&gt; é€™å¼µ table çš„ primary key å« product_idï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;users&lt;/code&gt; çš„å« user_id ä¹ŸæŒºå¥½çš„ã€‚è€Œä¸”é€™ç¨®å‘½åæ³•é‚„æœ‰ä¸€ç¨®å„ªé»ï¼Œå¯ä»¥é€é &lt;strong&gt;USING&lt;/strong&gt; ä¾† JOIN è³‡æ–™è¡¨ã€‚&lt;/p&gt;

&lt;p&gt;ç•¶ bugs çš„ primary key å« bug_idï¼Œproduct ä¸Šå°æ‡‰çš„ foreign key ä¹Ÿå« bug_idã€‚ é™¤äº†ä¸€èˆ¬çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;JOIN ... ON ...&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-SQL&quot;&gt;SELECT * FROM bugs
JOIN bug_products ON bugs.bug_id = bug_products.bug_id
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;é‚„å¯ä»¥æ”¹å¯«æˆï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-SQL&quot;&gt;SELECT * FROM bugs
JOIN bug_products USING(bug_id)
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;å•é¡Œä¸‰åªæœ‰-primary-key-ç„¡æ³•é¿å…è³‡æ–™é‡è¤‡&quot;&gt;å•é¡Œä¸‰ï¼šåªæœ‰ primary key ç„¡æ³•é¿å…è³‡æ–™é‡è¤‡&lt;/h2&gt;

&lt;p&gt;å¦‚æœ code æ²’å¯«å¥½ï¼Œé‚„æ˜¯æœ‰å¯èƒ½å‡ºç¾å¾ˆå¤šé‡è¤‡è³‡æ–™ã€‚æ¯”æ–¹èªªé€™å€‹æ˜¯ç®¡ç†è¨‚å–®è·Ÿè² è²¬å“¡å·¥çš„é—œè¯è¡¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;assignments&lt;/code&gt;ï¼š&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;id&lt;/th&gt;
      &lt;th&gt;order_id&lt;/th&gt;
      &lt;th&gt;employee_id&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;330&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;330&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;331&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;é™¤äº†å»æª¢æŸ¥ç‚ºä»€éº¼ä½ çš„ code æ²’æœ‰å¥½å¥½åœ° validate è³‡æ–™ã€é¿å…é‡è¤‡ï¼Œä¹Ÿå¯ä»¥æª¢è¨ä¸€ä¸‹ DB é€™é‚Šæ²’æœ‰æŠŠ &lt;strong&gt;unique key&lt;/strong&gt; åŠ ä¸Šå»çš„éƒ¨åˆ†ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨æ–°å¢ table çš„æ™‚å€™ï¼Œå¯ä»¥é‡å° order_id å’Œ employee_id åŠ ä¸Š unique keyï¼Œé¿å…å‡ºç¾çµ„åˆé‡è¤‡çš„ order_idã€employee_idï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-SQL&quot;&gt;CREATE TABLE assignments(
   ...,
   UNIQUE(order_id,employee_id)
);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;é™¤æ­¤ä¹‹å¤–ï¼Œç›´æ¥æ‹¿ order_id å’Œ employee_id çµ„åˆæˆ compound key ä¾†ç•¶ primary key ä¹Ÿæ˜¯å¾ˆ OK çš„ä½œæ³•ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å•é¡Œå››maxid-vs-last_insert_id-&quot;&gt;å•é¡Œå››ï¼š&lt;code class=&quot;highlighter-rouge&quot;&gt;MAX(id)&lt;/code&gt; vs &lt;code class=&quot;highlighter-rouge&quot;&gt;LAST_INSERT_ID() &lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;æœ‰äº›äººæœƒè‡ªå·±æ‰¾ &lt;code class=&quot;highlighter-rouge&quot;&gt;MAX(id)&lt;/code&gt; (è³‡æ–™åº«è£¡æœ€å¤§çš„id) å» generate æ–° idã€‚
é€™æ¨£æœƒæœ‰ Race Condition çš„å•é¡Œï¼Œç•¶å¤šå€‹ client åŒæ™‚æ“ä½œè³‡æ–™åº«ï¼Œæœ‰å¯èƒ½ä¸åŒ client è©¦åœ–å¡ä¸€æ¨£çš„ id é€²ä¾†ã€‚ç‚ºäº†é¿å… race condition åªå¥½åš table lockï¼Œé¿å…åŒæ™‚ insertï¼Œä½†é€™æ¨£æœƒå°è‡´æ•ˆèƒ½ç“¶é ¸ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœæ˜¯ç”¨ AUTO_INCREAMENT ï¼ŒMYSQL å¯ä»¥ç”¨ LAST_INSERT_ID() ä¾†å–æœ€å¾Œè¢« insert é€²ä¾†çš„è³‡æ–™ idï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SELECT LAST_INSERT_ID() FROM products LIMIT 1;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;çµè«–&quot;&gt;çµè«–&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;primary key æ˜¯ä¸€ç¨® constraintï¼Œä¸æ˜¯ä¸€ç¨® data type&lt;/li&gt;
  &lt;li&gt;primary key å¯ä»¥æ˜¯ varchar, integer ç­‰ç­‰ç­‰ï¼Œæ²’æœ‰ä¸€å®šè¦æ˜¯ integer&lt;/li&gt;
  &lt;li&gt;primary key å¯ä»¥æ˜¯ auto_increment çš„ pseudokeyï¼Œä¹Ÿå¯ä»¥è‡ªå·±å®šç¾©ï¼ˆåæ­£ unique å°±å¥½ï¼‰&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;åƒ Rails çš„ç†å¿µæ˜¯æ…£ä¾‹å„ªæ–¼è¨­å®šï¼ˆconvention over configurationï¼‰ï¼Œé€™æ¨£çš„ç†å¿µä½¿å¾—å¤§å®¶å¯ä»¥é™ä½é–‹ç™¼æˆæœ¬ï¼Œå–„ç”¨æ¡†æ¶æœ¬èº«çš„è¨­è¨ˆå¸¶ä¾†çš„ä¾¿æ·åŠŸèƒ½ç­‰ç­‰ã€‚ä¸€èˆ¬ä¾†èªªå°±ç®—ä¸éœ€è¦ Rails mibgration å¹«ä½ ç”¢ç”Ÿçš„ idï¼Œä½ ä¹Ÿä¸æœƒç‰¹åˆ¥å»æ‹¿æ‰ä»–ã€‚&lt;/p&gt;

&lt;p&gt;ä½†æ˜¯é€™å¯èƒ½æœƒè®“æ–°æ‰‹èª¤ä»¥ç‚º primary key å°±æ˜¯ä¸€å€‹å« idã€å€¼ç‚º integer çš„æ¬„ä½ï¼Œå…¶å¯¦ä¸æ˜¯é€™æ¨£çš„ã€‚&lt;/p&gt;

&lt;p&gt;æœ€å¾Œï¼Œé™„ä¸Šä½œè€…çš„æé†’ï¼š&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Donâ€™t let inflexible conventions get in the way of good design&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;è£œå……isoiec-11179&quot;&gt;è£œå……ï¼šISO/IEC 11179&lt;/h2&gt;
&lt;p&gt;é‡å° metadata åˆ¶è¨‚çš„æ¨™æº–ï¼Œå’Œå…¶ä»–æ¨™æº–ä¸€æ¨£ä¸å¥½é–±è®€ã€‚Joe Celko åœ¨ä»–çš„æ›¸ SQL propgramming style è£¡æœ‰å¯¦éš›ä½¿ç”¨é€™å€‹è¦ç¯„ã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;æœ¬æ–‡æ˜¯åƒè€ƒ Bill Karwin çš„ SQL Antipatterns ç¬¬å››ç«  ID required å½™æ•´è€Œæˆã€‚åŸæ›¸èªªæ˜äº†å¾ˆå¤šä¸å¤ªå¥½çš„è¨­è¨ˆæ¨¡å¼ï¼Œä»€éº¼æ™‚å€™å¯ä»¥ä½¿ç”¨ä»¥åŠç‚ºä½•è¦é¿å…ä½¿ç”¨ç­‰ç­‰ã€‚å¤§å®¶æœ‰ç©ºå¯ä»¥å»ç¿»é–±çœ‹çœ‹å“¦ã€‚&lt;/p&gt;</content><author><name>æ–‡æœˆ</name></author><category term="sql" /><summary type="html">å•é¡Œä¸€ï¼šå¯ä¸å¯ä»¥ä¸è¦ primary keyï¼Ÿ æ²’æœ‰ primary key æœƒæ€æ¨£ï¼Ÿ primary key ä¸»è¦çš„ä½œç”¨ç‚ºï¼š</summary></entry><entry><title type="html">[å·¥ä½œæ—¥å¸¸] å¦‚ä½•ç”¨å»ºç«‹å·¢ç‹€çš„ tailwindcss configï¼Ÿ</title><link href="/blog/tailwind-nested-config" rel="alternate" type="text/html" title="[å·¥ä½œæ—¥å¸¸] å¦‚ä½•ç”¨å»ºç«‹å·¢ç‹€çš„ tailwindcss configï¼Ÿ" /><published>2019-08-22T14:13:00+08:00</published><updated>2019-08-22T14:13:00+08:00</updated><id>/blog/tailwind-nested-config</id><content type="html" xml:base="/blog/tailwind-nested-config">&lt;h2 id=&quot;å…§å®¹æ›´æ–°&quot;&gt;å…§å®¹æ›´æ–°&lt;/h2&gt;

&lt;p&gt;Tailwind åœ¨ v1.2.0 çš„æ™‚å€™æ¨å‡ºäº† &lt;a href=&quot;https://github.com/tailwindcss/tailwindcss/pull/1162&quot;&gt;Allow plugins to extend the userâ€™s config&lt;/a&gt;çš„åŠŸèƒ½ï¼Œæˆ‘åœ¨å…¬å¸çš„æŠ€è¡“æ–‡ç« ä¸­ã€Œ&lt;a href=&quot;http://5xruby.tw/posts/tailwind-css-plugin/&quot;&gt;é‚„åœ¨è·Ÿè¤‡é›œçš„ CSS çš„è¨­å®šå¥®é¬¥å—ï¼Ÿç”¨ Tailwind ä¾†å¹«ä½ å¯¦ç¾çœŸæ­£çš„é«˜æ•ˆæ•´æ½”ï¼&lt;/a&gt;ã€æœ‰æåˆ°é€™å€‹åŠŸèƒ½ï¼Œèˆ‡ Tailwind çš„åŸºæœ¬ä»‹ç´¹ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å‰è¨€&quot;&gt;å‰è¨€&lt;/h2&gt;

&lt;p&gt;æœ€è¿‘å› ç‚ºå·¥ä½œç·£æ•…ä½¿ç”¨åˆ° &lt;a href=&quot;https://tailwindcss.com/&quot;&gt;Tailwind CSS&lt;/a&gt; é€™æ¬¾ css æ¡†æ¶ã€‚&lt;/p&gt;

&lt;p&gt;æœ‰åˆ¥æ–¼ bootstrap æŠŠ å„ç¨®å…ƒä»¶éƒ½å®šç¾©å¥½ï¼ˆæŒ‰éˆ•ã€å°è¦½åˆ—ã€cardâ€¦ï¼‰ï¼ŒTailwind æä¾›æ¯”è¼ƒåŸºç¤çš„ utility classesï¼Œè®“å¤§å®¶å¯ä»¥æ ¹æ“šè‡ªå·±çš„éœ€æ±‚ä¾†åˆ»å…ƒä»¶ã€åˆ‡ç‰ˆå‹ã€‚å€‹äººè »å–œæ­¡é€™æ¨£çš„å·¥å…·çš„ï¼Œè¦ä¸ç„¶åœ¨å¤§å®¶éƒ½ç”¨ bootstrap çš„å¹´ä»£ï¼Œåˆ°è™•ç¶²ç«™éƒ½ä¸€å€‹æ¨£ï¼Œçœ‹å¾—å¯¦åœ¨æ˜¯è »ä¸èˆ’æœçš„w&lt;/p&gt;

&lt;p&gt;Tailwind æœ¬èº«å°±æä¾›ä¸€äº› default settingsï¼Œåƒæ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;margin: 0.25rem&lt;/code&gt;ï¼ˆ&lt;code class=&quot;highlighter-rouge&quot;&gt;.m-1&lt;/code&gt;ï¼‰ï¼Œæˆ–æ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;color: #fff&lt;/code&gt;ï¼ˆ&lt;code class=&quot;highlighter-rouge&quot;&gt;.text-white&lt;/code&gt;ï¼‰ ç­‰ç­‰ã€‚å¦‚æœéœ€è¦å®¢è£½åŒ–ï¼Œä¹Ÿå¯ä»¥åœ¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;tailwind.config.js &lt;/code&gt; ä¸­æ–°å¢é¡è‰²ç­‰ç­‰ï¼Œè€Œ Tailwind æœƒè‡ªå‹•æŠŠ default config å’Œä½ çš„ customized config åˆä½µåœ¨ä¸€èµ·ï¼Œæ­é… purgeCSS å¹«ä½ æŠŠæ²’æœ‰ç”¨åˆ°çš„ css è¨­å®šæ‹”æ‰ï¼Œç…æ˜¯æ–¹ä¾¿å‘¢ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å¯ä¸å¯ä»¥å»ºç«‹-nested-config&quot;&gt;å¯ä¸å¯ä»¥å»ºç«‹ nested configï¼Ÿ&lt;/h2&gt;

&lt;p&gt;ç„¶è€Œå·¥å…·é›–æ–¹ä¾¿å¥½ç”¨ï¼Œç¸½æ˜¯æœƒé‡åˆ° basic usage ç„¡æ³•æ»¿è¶³çš„éœ€æ±‚çš„ç‹€æ³ã€‚æ¯”æ–¹èªªä¸€å€‹ç¶²ç«™åˆ†æˆå‰å°ã€å¾Œå°ï¼Œå…©é‚Šæƒ³ç”¨ä¸ä¸€æ¨£çš„ customized configã€‚èˆ‡æ­¤åŒæ™‚ï¼Œæœ‰ä¸€äº›å…±ç”¨çš„è¨­å®šï¼ˆæ¯”æ–¹èªªå…©é‚Šéƒ½è¦æœ‰ &lt;code class=&quot;highlighter-rouge&quot;&gt;primary&lt;/code&gt; é€™çµ„ colorï¼‰å…©é‚Šéƒ½è¦æœ‰ï¼Œé€™å€‹æ™‚å€™è©²æ€éº¼è¾¦å‘¢ï¼Ÿ&lt;/p&gt;

&lt;h3 id=&quot;æ–¹æ¡ˆä¸€ä½›ç³»è§£æ±ºå•é¡Œç­‰å¾…å®˜æ–¹è™•ç†çš„é‚£ä¸€å¤©&quot;&gt;æ–¹æ¡ˆä¸€ï¼šä½›ç³»è§£æ±ºå•é¡Œï¼Œç­‰å¾…å®˜æ–¹è™•ç†çš„é‚£ä¸€å¤©&lt;/h3&gt;

&lt;p&gt;å¦‚æ¨™é¡Œæ‰€ç¤ºï¼Œç·£ä»½åˆ°ä¾†ï¼Œå•é¡Œè‡ªç„¶è§£æ±ºã€‚èªªä¸å®šå“ªä¸€å¤©å®˜æ–¹çš„ new release å°±å¹«ä½ æŠŠå•é¡Œè™•ç†å¥½äº†ã€‚&lt;/p&gt;

&lt;p&gt;&lt;del&gt;å¦‚æœå°å°ˆæ¡ˆæ”¾ç½® play å•é¡Œå°±æœƒè§£æ±ºï¼Œæˆ‘ä¹Ÿæ˜¯å¾ˆæƒ³é€™æ¨£ã€‚&lt;/del&gt;&lt;/p&gt;

&lt;h3 id=&quot;æ–¹æ¡ˆäºŒä¸€é‚Šä¸€çµ„-customized-config&quot;&gt;æ–¹æ¡ˆäºŒï¼šä¸€é‚Šä¸€çµ„ customized config&lt;/h3&gt;

&lt;p&gt;æ˜¯å€‹éå¸¸ç›´è§€ç°¡å–®çš„è§£æ±ºæ–¹æ¡ˆï¼Œç›´æ¥å‰å°ä¸€å€‹ &lt;code class=&quot;highlighter-rouge&quot;&gt;tailwind.config.js &lt;/code&gt;ï¼Œå¾Œå°ä¸€å€‹ &lt;code class=&quot;highlighter-rouge&quot;&gt;tailwind.config.js &lt;/code&gt;ï¼Œå…±åŒçš„éƒ¨åˆ†å°±å…©é‚Šçš„ config éƒ½æ”¾å°±å¥½äº†ã€‚ä½†æ˜¯ç¸½è¦ºå¾—ä¸å¤  dry (Donâ€™t repeat yourself)ï¼Œç¶­è­·çš„æ™‚å€™è¦å°å¿ƒä¿æŒå…©é‚Šçš„å…±åŒè¨­å®šéƒ½ä¸€æ¨£ï¼Œå¯¦åœ¨ä¸æ˜¯å€‹æ¼‚äº®çš„ä½œæ³•ã€‚&lt;/p&gt;

&lt;h3 id=&quot;æ–¹æ¡ˆä¸‰æŠŠ-tailwind-è£¡é¢çš„-resolveconfigobjects-æ‹¿ä¾†-merge-ä½ çš„-customized-config&quot;&gt;æ–¹æ¡ˆä¸‰ï¼šæŠŠ tailwind è£¡é¢çš„ ResolveConfigObjects() æ‹¿ä¾† merge ä½ çš„ customized config&lt;/h3&gt;

&lt;p&gt;å¦‚æœæ‰“é–‹ &lt;code class=&quot;highlighter-rouge&quot;&gt;node_modules/tailwindcss&lt;/code&gt; è§€å¯Ÿè§€å¯Ÿï¼Œæœƒç™¼ç¾æª”æ¡ˆ &lt;code class=&quot;highlighter-rouge&quot;&gt;resolveConfig.js&lt;/code&gt; ä¸­ï¼ŒTailwind é€éä¸€å€‹å« resolveConfigObjects() çš„ function å¹«ä½ æŠŠä½ çš„ customized config è·Ÿ Tailwind çš„ default config åˆä½µèµ·ä¾†ã€‚&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// node_modules/tailwindcss/resolveConfig.js&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;resolveConfigObjects&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'./lib/util/resolveConfig'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;default&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;defaultConfig&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'./stubs/defaultConfig.stub.js'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;resolveConfig&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;resolveConfigObjects&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;defaultConfig&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;é‚£å¦‚æœæˆ‘å€‘æŠŠé€™å€‹ resolveConfigObjects() æŠ½å‡ºä¾†ç”¨ï¼Œæ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥é”åˆ° nested config çš„æ•ˆæœå‘¢ï¼Ÿ&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;resolveConfigObjects&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'tailwindcss/lib/util/resolveConfig'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;default&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;defaultConfig&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'#{å…±åŒè¨­å®šçš„é‚£å€‹ config æª”æ¡ˆ}'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;js&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;extendedConfig&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;//é€™è£¡æ”¾ä½ å‰å° or å¾Œå°çš„è¨­å®š }&lt;/span&gt;

&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;resolveConfigObjects&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;extendedConfig&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;defaultTheme&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç¶“éå¯¦éš›æ¸¬è©¦å¾Œï¼Œç™¼ç¾æœƒæœ‰é›£ä»¥è§£æ±ºçš„å•é¡Œã€‚&lt;/p&gt;

&lt;p&gt;åœ¨ Tailwind çš„ config ä¸­ï¼Œæœ‰ä¸€äº›éƒ¨åˆ†çš„è¨­å®šæœƒåƒé€™æ¨£ï¼š&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;textColor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;theme&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;theme&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'colors'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç¶“é resolveConfigObjects() é€™å€‹ function ä»¥å¾Œï¼Œé€™æ¨£çš„ function æœƒè¢«è™•ç†æˆ Objectï¼š&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;textColor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;nl&quot;&gt;transparent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'transparent'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;black&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'#000'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;white&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'#fff'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;gray&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;red&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;orange&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;yellow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;green&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;teal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;blue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;indigo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;purple&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;pink&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœé€™å€‹æ™‚å€™åœ¨ä½ çš„å‰å° config è£¡åŠ ä¸Šä¸€å€‹æ–°çš„é¡è‰²ï¼š&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;extendedConfig&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;theme&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;colors&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;defaultTheme&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;theme&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;colors&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;sakura&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'#f2a5b7'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;textColor æ˜¯ä¸æœƒæ›´æ–°çš„ï¼å¦‚æœåœ¨ç¶²é ç•¶ä¸­æœ‰ &lt;code class=&quot;highlighter-rouge&quot;&gt;.text-sakura&lt;/code&gt;ï¼Œæœƒå› ç‚ºæ²’åƒåˆ°è¨­å®šè€Œå£æ‰ã€‚&lt;/p&gt;

&lt;p&gt;çœ‹ä¾†é‚„æ˜¯æ²’è¾¦æ³•æ¼‚äº®åœ°è§£æ±ºå•é¡Œå‘¢ã€‚&lt;/p&gt;

&lt;h3 id=&quot;æ–¹æ¡ˆå››å…ˆæŠŠä½ çš„-customized-config-éƒ½-deep-merge-é&quot;&gt;æ–¹æ¡ˆå››ï¼šå…ˆæŠŠä½ çš„ customized config éƒ½ deep merge é&lt;/h3&gt;

&lt;p&gt;ä¸€æ¨£åˆ†æˆå…±åŒçš„ configï¼Œé‚„æœ‰å‰å°ã€å¾Œå°çš„ configã€‚ä½†æ˜¯è‡ªè¡Œç”¨ deepmerge å¥—ä»¶æˆ– lodash çš„ defaultsDeep() æŠŠ customized config åˆä½µèµ·ä¾†ã€‚&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;deepMerge&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'deepmerge'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;baseTheme&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'#{å…±åŒè¨­å®šçš„é‚£å€‹ config æª”æ¡ˆ}'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;extendedTheme&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;//é€™è£¡æ”¾ä½ å‰å° or å¾Œå°çš„è¨­å®š&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;customizedTheme&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;deepMerge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;baseTheme&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;extendedTheme&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;customizedTheme&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;é€™å››ç¨®æ–¹æ¡ˆï¼ˆå…¶å¯¦åªæœ‰ä¸‰ç¨®ï¼Ÿï¼‰ä¸­ï¼Œæ¯”è¼ƒæ¨è–¦é€™ç¨®å‘¢ã€‚&lt;/p&gt;

&lt;h3 id=&quot;é¡è‰²çš„-shallow-merge-å•é¡Œ&quot;&gt;é¡è‰²çš„ shallow merge å•é¡Œ&lt;/h3&gt;

&lt;p&gt;åœ¨ Tailwind ä¸­ï¼Œcustomize ä½ çš„è¨­å®šåŸºæœ¬ä¸Šåˆ†å…©ç¨®æ–¹å¼ï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;è“‹æ‰åŸæœ¬çš„è¨­å®šï¼ˆç›´æ¥æ”¾åˆ° theme åº•ä¸‹ï¼‰&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;ä»¥ä¸‹æ–¹çš„ code ç‚ºä¾‹ï¼Œmd å’Œ lg çš„è¨­å®šè¢«æ›´å‹•æˆ 666px å’Œ 888pxï¼ŒåŒæ™‚ default çš„å…¶ä»–è¨­å®šä¹Ÿä¸å¾©å­˜åœ¨ã€‚æ¯”æ–¹èªªåŸæœ¬çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;sm: '640px'&lt;/code&gt; è¨­å®šå°±æ²’æœ‰äº†ã€‚&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;theme&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;screens&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;md&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'666px'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;lg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'888px'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  	&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ol&gt;
  &lt;li&gt;å»¶å±•åŸæœ¬çš„è¨­å®šï¼ˆæ”¾åˆ° theme.extend åº•ä¸‹ï¼‰&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;å’Œå‰›å‰›é¡ä¼¼çš„ç¯„ä¾‹ï¼Œåªæ˜¯æ”¹æˆæ”¾åœ¨ extendåº•ä¸‹ã€‚æ­¤æ™‚ md å’Œ lg çš„è¨­å®šè¢«æ›´å‹•æˆ 666px å’Œ 888pxä¹‹é¤˜ï¼Œå…¶ä»– default çš„è¨­å®šä¾èˆŠä¿æŒã€‚æ¯”æ–¹èªªåŸæœ¬çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;sm: '640px'&lt;/code&gt; é‚„æœƒå­˜åœ¨ã€‚&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;theme&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;extend&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;screens&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;md&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'666px'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;lg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'888px'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  	  &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä½†å¾ˆå¥‡å¦™åœ°ï¼ŒTailwind çš„é¡è‰²è¨­å®šç„¡æ³•å¥½å¥½çš„ extendã€‚ä»¥åº•ä¸‹çš„ç¯„ä¾‹ä¾†èªªï¼Œæˆ‘å€‘çš„æƒ³åƒæ˜¯ gray åŸæœ¬çš„è¨­å®š(100 ~ 900)éƒ½åœ¨ï¼Œä½†å¥‡è¹Ÿä¼¼åœ°éƒ½æœƒå£å…‰å…‰ï¼ˆæ¬¸&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;theme&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;extend&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;colors&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;gray&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;na&quot;&gt;primary&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'#9f9e9f'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;é€™å€‹æ™‚å€™å¿…é ˆå†åŠ ä¸Šä¸€è¡Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;...#{ä½ çš„ defaultTheme çš„åå­—}.theme.colors.gray&lt;/code&gt;ï¼ŒæŠŠ default çš„è³‡æ–™ä»£å›ä¾†ã€‚&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;theme&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;extend&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;colors&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;gray&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;defaultTheme&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;theme&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;colors&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;gray&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;na&quot;&gt;primary&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'#9f9e9f'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ ¹æ“šå®˜æ–¹åœ¨ &lt;a href=&quot;https://github.com/tailwindcss/discuss/issues/242&quot;&gt;github issue&lt;/a&gt; ä¸Šçš„èªªæ³•ï¼Œä¼¼ä¹æ˜¯å› ç‚ºè¨­å®šé‚„åªæ˜¯ shallow merge è€Œå·²ã€‚&lt;/p&gt;

&lt;p&gt;é€™å€‹å•é¡Œå°±ä½›ç³»ç­‰å¾…å®˜æ–¹è§£æ±ºå§ã€‚&lt;/p&gt;

&lt;h4 id=&quot;variants-é‡è¤‡å•é¡Œ&quot;&gt;variants é‡è¤‡å•é¡Œ&lt;/h4&gt;
&lt;p&gt;å¦‚æœåŒæ™‚åœ¨ä¸Šå±¤è·Ÿä¸‹å±¤åŠ ä¸Šä¸€æ¨£çš„ variants æœƒç™¼ç”Ÿä»€éº¼äº‹æƒ…å‘¢ï¼Ÿ&lt;/p&gt;
&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// ä¸Šå±¤ï¼š&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;variants&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;borderColor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'hover'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// ä¸‹å±¤ï¼š&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;variants&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;borderColor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'responsive'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'hover'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å› ç‚ºå…©å€‹ config æ˜¯æˆ‘å€‘è‡ªå·±ç”¨ deepmerge å¼„çš„ï¼Œæ‰€ä»¥åˆä½µå®Œæœƒè®Šæˆï¼š&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nx&quot;&gt;borderColor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'responsive'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'hover'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'hover'&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ¥è‘—ä½ å°±æœƒç™¼ç¾æ‰€æœ‰ hover çš„ borderColor çš„ css éƒ½è®Šæˆå…©å€ï¼ˆå“­ï¼‰&lt;/p&gt;

&lt;p&gt;ç›®å‰æƒ³åˆ°çš„æ–¹å¼å°±æ˜¯ variants é‚„æ˜¯å›ºå®šå¯«æŸä¸€å€‹æª”æ¡ˆå°±å¥½é€™æ¨£ã€‚ä½†é¡˜ä¹‹å¾Œ Tailwind å®˜æ–¹æœƒæœ‰æ›´å¥½çš„å¯¦å‹™åšæ³•ã€‚&lt;/p&gt;

&lt;p&gt;ï¼ˆç­†è€…ä½¿ç”¨ tailwindcss v1.0.1ï¼‰&lt;/p&gt;</content><author><name>æ–‡æœˆ</name></author><category term="css" /><category term="javascript" /><summary type="html">å…§å®¹æ›´æ–°</summary></entry><entry><title type="html">[5xRubyå¯¦ç¿’æ—¥è¨˜] Javascript èª²ç¨‹å¿ƒå¾—</title><link href="/blog/2016-spring-5xruby-rails-course" rel="alternate" type="text/html" title="[5xRubyå¯¦ç¿’æ—¥è¨˜] Javascript èª²ç¨‹å¿ƒå¾—" /><published>2016-06-02T01:23:32+08:00</published><updated>2016-06-02T01:23:32+08:00</updated><id>/blog/2016-spring-5xruby-rails-course</id><content type="html" xml:base="/blog/2016-spring-5xruby-rails-course">&lt;p&gt;è¦ºå¾—åœ¨äº”å€ç´…å¯¶çŸ³å¯¦ç¿’çš„å¥½è™•å°±æ˜¯æœ‰å„ç¨®å…è²»çš„èª²ç¨‹è³‡æºï¼Œè·Ÿå–ä¸å®Œçš„å…è²»é£²æ–™(X)
ä¸éç”±æ–¼å€‹äººé‚„åœ¨å°±å­¸çš„ç·£æ•…ï¼Œ
å› ç‚ºè¡åˆ°æœŸä¸­è€ƒè·Ÿå„ç¨®å­¸æ ¡äº‹å‹™ï¼Œä¸€ç›´æ²’èƒ½æŠŠèª²ç¨‹ä¸Šå¥½ä¸Šæ»¿QAQâ€&lt;/p&gt;

&lt;p&gt;é€™æ¬¡çš„JSèª²ç¨‹å¾ˆéºæ†¾åœ°åªä¸Šäº†æœ€å¾Œä¸€å ‚èª²QAQâ€ (è€Œä¸”åªæœ‰å¾ŒåŠæ®µQAQ) 
(æ²’æœ‰HTMLåªä¸Šåˆ°ç¬¬ä¸€å ‚èª²é€™éº¼æ·’æ…˜å°±æ˜¯äº†)
æˆ‘è¦ºå¾—é€™æ¬¡çš„ç¢ºæœ‰å°jQueryæœ‰æ¯”è¼ƒå¤šçš„äº†è§£ï¼Œä»¥å¾€éƒ½æ˜¯ä¸€ç›´è¤‡è£½åˆ¥äººçš„codeäº‚æ”¹ï¼Œ
çµ‚æ–¼å¯ä»¥äº†è§£æ¯ä¸€è¡Œcodeéƒ½åœ¨åšä»€éº¼ï¼Œç„¶å¾Œå®Œæ•´åœ°å¯«å‡ºä¸€æ®µcodeä¾†ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘è¦ºå¾—Kuroè¬›å¸«æä¾›å¾ˆå¤šå¯ä»¥åƒè€ƒçš„ä¾‹å­æä¾›è§€æ‘©è·Ÿç·´ç¿’ï¼Œé€™ä¸€é»çœŸçš„æœ‰è®“æˆ‘è¦ºå¾—æ¯”è¼ƒæ˜“å­¸ã€æ˜“æ‡‚ã€‚
è€Œä¸”å¯ä»¥å¯¦éš›ä¸Šäº†è§£è¦æ€éº¼ä½¿ç”¨ï¼Œæœ‰ä»€éº¼æ™‚æ©Ÿå¯ä»¥ä½¿ç”¨ã€‚&lt;/p&gt;

&lt;p&gt;æ¥è‘—æä¾›ä¸€ä¸‹æœ€å¾Œä¸€å ‚èª²çš„ç­†è¨˜ï¼š&lt;/p&gt;
&lt;h3 id=&quot;å–„ç”¨findæ‰¾å­å…ƒç´ &quot;&gt;å–„ç”¨findæ‰¾å­å…ƒç´ &lt;/h3&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$(this).find('.title').toggleClass('active');
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;h3 id=&quot;ç”¨triggerè§¸ç™¼äº‹ä»¶&quot;&gt;ç”¨triggerè§¸ç™¼äº‹ä»¶&lt;/h3&gt;
&lt;p&gt;ä¾‹å¦‚ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;	$(.b).on('click',function(){
	$(.a).trigger('click');
});
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;é€™æ¨£è§¸ç™¼çš„æ˜¯açš„clickäº‹ä»¶ï¼Œå› æ­¤å¦‚æœaçš„clickäº‹ä»¶ä¸­æœ‰thisï¼Œæœƒçš„æ˜¯aè‡ªå·±è€Œä¸æ˜¯b&lt;/p&gt;

&lt;h3 id=&quot;åˆ©ç”¨dataå­˜å–æŒ‡å®š&quot;&gt;åˆ©ç”¨dataå­˜å–ã€æŒ‡å®š&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;å­˜å– ex.&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;	$('.home').data('show')
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æ­¤ä¸€ä¾†å¯ä»¥å­˜å–æœ‰homeé€™å€‹classçš„ç‰©ä»¶çš„data-showçš„å€¼&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;æŒ‡å®š ex.&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;	$('.home').data('show','home')
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æŠŠæœ‰homeé€™å€‹classçš„ç‰©ä»¶çš„data-showçš„å€¼æ”¹æˆhome&lt;/p&gt;

&lt;p&gt;å‰©ä¸‹æ™šä¸€é»å†ä¾†è£œï¼Œä¸éæˆ‘æœ‰å¯«åœ¨&lt;a href=&quot;https://hackmd.io/s/rk_X2cdl&quot;&gt;hackMD&lt;/a&gt;ä¸Šæä¾›åƒè€ƒ&lt;/p&gt;</content><author><name>æ–‡æœˆ</name></author><category term="5xruby" /><summary type="html">è¦ºå¾—åœ¨äº”å€ç´…å¯¶çŸ³å¯¦ç¿’çš„å¥½è™•å°±æ˜¯æœ‰å„ç¨®å…è²»çš„èª²ç¨‹è³‡æºï¼Œè·Ÿå–ä¸å®Œçš„å…è²»é£²æ–™(X) ä¸éç”±æ–¼å€‹äººé‚„åœ¨å°±å­¸çš„ç·£æ•…ï¼Œ å› ç‚ºè¡åˆ°æœŸä¸­è€ƒè·Ÿå„ç¨®å­¸æ ¡äº‹å‹™ï¼Œä¸€ç›´æ²’èƒ½æŠŠèª²ç¨‹ä¸Šå¥½ä¸Šæ»¿QAQâ€</summary></entry><entry><title type="html">[Rails å­¸ç¿’ç­†è¨˜]ç”¨Vagrantæ‰“é€ èˆ’é©ç¾å¥½çš„railsç’°å¢ƒå§ï¼</title><link href="/blog/build-rails-environment-with-vagrant" rel="alternate" type="text/html" title="[Rails å­¸ç¿’ç­†è¨˜]ç”¨Vagrantæ‰“é€ èˆ’é©ç¾å¥½çš„railsç’°å¢ƒå§ï¼" /><published>2016-05-26T23:40:58+08:00</published><updated>2016-05-26T23:40:58+08:00</updated><id>/blog/build-rails-environment-with-vagrant</id><content type="html" xml:base="/blog/build-rails-environment-with-vagrant">&lt;p&gt;ç›¸ä¿¡é€™å€‹ä¸–ç•Œä¸Šæœ‰è¨±å¤šäººå’Œæˆ‘ä¸€æ¨£ï¼Œçª®çª®çš„è²·ä¸èµ·macï¼Œ
åˆæ²’æœ‰å¯ä»¥ç”¨ linux çš„è…¦è¢‹è·Ÿè€å¿ƒï¼Œæ‰€ä»¥åªå¥½ä¸€ç›´è¢«windowsæ…˜è™QAQâ€&lt;/p&gt;

&lt;p&gt;åˆ°ç›®å‰ç‚ºæ­¢åœ¨ä¸‹éƒ½æ˜¯ç”¨c9.ioä¾†å¯«railsçš„ï¼Œä½†ç•¢ç«Ÿä¸æ˜¯åœ¨æœ¬æ©Ÿå¯«ï¼Œåˆæ²’éŒ¢è²·ä»˜è²»ç‰ˆï¼Œæ‰€ä»¥ä¸€ç›´éƒ½è¦ç­‰c9.ioçš„workspaceç·©ç·©æ…¢æ…¢çš„é–‹å•Ÿï¼Œæ¯å€‹æŒ‡ä»¤ä¹Ÿéƒ½ç·©ç·©æ…¢æ…¢çš„ã€‚åªæ˜¯ä¸‹å€‹ &lt;code class=&quot;highlighter-rouge&quot;&gt;rake db:migrate&lt;/code&gt; ä¹‹é¡çš„CPUå°±æœƒçˆ†è¡(ä¸‹æ¬¡é–‹c9å¯ä»¥çœ‹å³ä¸Šè§’çš„å€¼)ï¼Œæ„Ÿè¦ºé€™å€‹ç’°å¢ƒæ ¹æœ¬ä¸å ªè² è·å•Šâ€¦&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥å‘¢ï¼Œæƒ³èªªç”¨Vagrantä¾†å»ºè™›æ“¬æ©Ÿï¼Œé€™ä¼¼ä¹æ˜¯æ¯”è¼ƒç°¡å–®çš„æ–¹æ³•å‘¢ã€‚å°æ–¼æˆ‘é€™å€‹å°è…¦æ®˜ä¾†èªªæ‡‰è©²ä¸æœƒè€é›·å¾—å¤ªåš´é‡XD&lt;/p&gt;

&lt;p&gt;å…¶å¯¦ç¶²è·¯ä¸ŠVagrantçš„æ•™å­¸æ–‡é‚„ä¸å°‘(è€Œä¸”é‚„æ˜¯ä¸­æ–‡çš„)ï¼Œé‡åˆ°å•é¡Œé‚„å¯ä»¥ä¸ŠstackoverflowæŸ¥ï¼Œå€‹äººè¦ºå¾—è³‡æºè »å¤šçš„ã€‚å¦‚æœæ˜¯dockerçš„è©±æˆ‘å€‹äººçµ•å°æ²’æœ‰ä¿¡å¿ƒæŠŠå®ƒè£èµ·ä¾†XD&lt;/p&gt;

&lt;p&gt;ä¸éèªªå¯¦åœ¨çš„ï¼Œå¿ƒåº•é‚„æ˜¯é»˜é»˜çš„æœŸæœ›å¯ä»¥è²·macå•Š&amp;gt;&amp;lt;â€&lt;/p&gt;

&lt;p&gt;ç¸½è€Œè¨€ä¹‹å»¢è©±ä¸å¤šèªª(å·²ç¶“è¬›å¾ˆå¤šäº†)å°±ä¾†è£è£çœ‹å§ï¼&lt;/p&gt;

&lt;p&gt;BTWï¼Œåœ¨ä¸‹çš„é›»è…¦ç›®å‰æ˜¯è¬æƒ¡çš„ windows 10ï¼Œæ‰€ä»¥å®‰è£éç¨‹å¯èƒ½è·Ÿå¤§å®¶ä¸å¤ªä¸€æ¨£ï¼Œç´°ç¯€å¯ä»¥åƒè€ƒåº•ä¸‹çš„æ•™æã€‚ç„¶å¾Œå®‰è£éç¨‹ä¸­çš„å•é¡Œè·Ÿé›·é»æˆ‘ä¹Ÿæœƒä¸€ä½µåˆ†äº«çš„w&lt;/p&gt;

&lt;h3 id=&quot;å®‰è£æ­¥é©Ÿ&quot;&gt;å®‰è£æ­¥é©Ÿ&lt;/h3&gt;

&lt;h4 id=&quot;å®‰è£vagrantvirtual-boxmobaxterm&quot;&gt;å®‰è£Vagrantã€Virtual Boxã€MobaxTerm&lt;/h4&gt;

&lt;p&gt;é¦–å…ˆä¾†å®‰è£ç­‰ç­‰æœƒéœ€è¦ç”¨åˆ°çš„æ±è¥¿ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.vagrantup.com/downloads.html&quot;&gt;Vagrant&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;ä¾ç…§è‡ªå·±çš„ä½œæ¥­ç³»çµ±ç’°å¢ƒæ‰¾é©åˆçš„ç‰ˆæœ¬å®‰è£&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.virtualbox.org/wiki/Downloads&quot;&gt;VirtualBox&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;VirtualBox platform packages&lt;/li&gt;
      &lt;li&gt;VirtualBox 5.0.20 Oracle VM VirtualBox Extension Pack&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://mobaxterm.mobatek.net/download.html&quot;&gt;MobaXterm&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;å¯ä»¥æ‹¿ä¾†é€£telnetã€sshã€httpã€ftpâ€¦ç­‰ç­‰çš„ï¼Œå¾ˆæ–¹ä¾¿&lt;/li&gt;
      &lt;li&gt;é€™æ¬¡æœƒæ‹¿ä¾†é€£ssh&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å®‰è£éç¨‹ä¸­åªè¦ä¸€ç›´æŒ‰ &lt;code class=&quot;highlighter-rouge&quot;&gt;next&lt;/code&gt; åŸºæœ¬ä¸Šå°±æœƒè£å¥½äº†XD
å€‹äººå®‰è£æ²’æœ‰é‡åˆ°ä»€éº¼å•é¡Œï¼Œæœ‰é‡åˆ°çš„è©±å¯ä»¥googleä¸€ä¸‹è§£æ±ºè¾¦æ³•ã€‚&lt;/p&gt;

&lt;h4 id=&quot;ç”Ÿå‡ºè™›æ“¬æ©Ÿ&quot;&gt;ç”Ÿå‡ºè™›æ“¬æ©Ÿ&lt;/h4&gt;
&lt;p&gt;æ¥è‘—åˆ°&lt;a href=&quot;https://atlas.hashicorp.com/boxes/search?utm_source=vagrantcloud.com&amp;amp;vagrantcloud=1&quot;&gt;Vagrant Cloud&lt;/a&gt;ç‰©è‰²ä¸€ä¸‹è¦å®‰è£çš„boxï¼Œå€‹äººé€™æ¬¡ç”¨çš„æ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;ubuntu/trusty64&lt;/code&gt;ã€‚
æ‰¾åˆ°éœ€è¦çš„ç‰ˆæœ¬ä»¥å¾Œæœƒçœ‹åˆ°é€™æ¨£ä¸€è¡Œcommand lineï¼Œåƒé€™æ¨£ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-{}&quot;&gt;$ vagrant init ubuntu/trusty64; vagrant up --provider virtualbox
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;é€™å€‹æ™‚å€™åªè¦æ„‰å¿«åœ°æŠŠé€™è¡ŒæŒ‡ä»¤è²¼åˆ°terminalä¸Šï¼Œè™›æ“¬æ©Ÿå°±ç”Ÿå‡ºä¾†äº†å‘¢ï¼é€™ç¨®æ™‚å€™å°±æœƒè¦ºå¾—VagrantçœŸæ˜¯å¼·å¤§å‘¢ï¼&lt;/p&gt;

&lt;p&gt;ä¸éç¬¬ä¸€æ¬¡é–‹æœƒè·‘å¾ˆä¹…å¾ˆä¹…å¾ˆä¹…ï¼Œè«‹è€å¿ƒç­‰å¾…XD&lt;/p&gt;

&lt;h4 id=&quot;sshé€£ç·š&quot;&gt;sshé€£ç·š&lt;/h4&gt;
&lt;p&gt;æ¥è‘—å·®ä¸å¤šè·‘ç©äº†çš„æ™‚å€™ï¼Œç¨å¾®ç¿»ä¸€ä¸‹terminalä¸Šçš„è¨Šæ¯ï¼Œæ‡‰è©²æœƒæœ‰é¡ä¼¼é€™æ¨£çš„è¨Šæ¯ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-{}&quot;&gt;default: SSH address: 127.0.0.1:2222
default: SSH username: vagrant
default: SSH auth method: private key
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åˆ°virtualboxé‚£é‚Šçœ‹ï¼Œå¤šäº†ä¸€å€‹è™›æ“¬æ©Ÿã€‚
&lt;img src=&quot;http://i.imgur.com/0VPr8U6.png&quot; alt=&quot;new virtualbox&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æŠŠMobaXtermæ‰“é–‹ä»¥å¾Œï¼Œåˆ°sessionæ–°å¢ssh sessionï¼Œåœ¨hostã€usernameã€portå¡«å…¥ï¼š
&lt;img src=&quot;http://i.imgur.com/ZF8sTSt.png&quot; alt=&quot;new session&quot; /&gt;&lt;/p&gt;

&lt;p&gt;åœ¨å·¦é‚Šå´æ¬„å° &lt;code class=&quot;highlighter-rouge&quot;&gt;127.0.0.1(vibrant)&lt;/code&gt; é»å…©ä¸‹ï¼Œç…§ç†ä¾†èªªæœƒå‡ºç¾é¡ä¼¼ &lt;code class=&quot;highlighter-rouge&quot;&gt;vagrant@vagrant-ubuntu-trusty-64:~$&lt;/code&gt; çš„æ±è¥¿ï¼Œæˆ–æ˜¯è¦ä½ è¼¸å…¥passwordã€‚
æ²’æœ‰çš„è©±ï¼Œåˆ° &lt;strong&gt;Settings &amp;gt; Configurations &amp;gt; Terminal&lt;/strong&gt; æŠŠ &lt;code class=&quot;highlighter-rouge&quot;&gt;Use Windows PATH environment&lt;/code&gt;æ‰“å‹¾ã€‚&lt;/p&gt;

&lt;p&gt;é è¨­çš„usernameå’Œpasswordéƒ½æœƒæ˜¯vagrantã€‚&lt;/p&gt;

&lt;h4 id=&quot;å•é¡Œ-vt-xamd-v-ç¡¬é«”åŠ é€Ÿåœ¨æ‚¨çš„ç³»çµ±ä¸å¯ç”¨&quot;&gt;å•é¡Œ: VT-x/AMD-V ç¡¬é«”åŠ é€Ÿåœ¨æ‚¨çš„ç³»çµ±ä¸å¯ç”¨&lt;/h4&gt;
&lt;p&gt;æˆ‘å€‹äººå°±æ˜¯é‡åˆ°é€™å€‹ç‹€æ³ï¼Œè™›æ“¬æ©Ÿé–‹ä¸èµ·ä¾†ã€‚
é€™å€‹æ™‚å€™å¯ä»¥æª¢æŸ¥ä¸€ä¸‹è™›æ“¬åŒ–æŠ€è¡“æœ‰æ²’æœ‰é–‹èµ·ä¾†ï¼Œé€™å€‹éƒ¨åˆ†å¯ä»¥åˆ° &lt;strong&gt;å·¥ä½œç®¡ç†å“¡ &amp;gt; CPU&lt;/strong&gt; å»çœ‹ã€‚
&lt;img src=&quot;http://i.imgur.com/75QAWrA.png&quot; alt=&quot;è™›æ“¬åŒ–æŠ€è¡“&quot; /&gt;
è‹±æ–‡ç‰ˆçš„æ‡‰è©²æœƒå¯«virtualizationä¹‹é¡çš„ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœä¸Šé¢ä¸æ˜¯å¯«è‘—ã€Œå·²å•Ÿç”¨ã€çš„è©±ï¼Œé‚£å°±åˆ°BIOSå»æŠŠvirtualization technology é–‹èµ·ä¾†å§ï¼æ€éº¼æŠŠBIOSé–‹èµ·ä¾†å¯ä»¥googleä¸€ä¸‹ã€‚&lt;/p&gt;

&lt;p&gt;è‡³æ–¼windows10çš„è©±ï¼Œå°±ä¸€é‚ŠæŒ‰è‘—shiftä¸€é‚Šé‡æ–°å•Ÿå‹•ï¼Œå‡ºç¾è—è—ç•«é¢å¾Œé¸ &lt;strong&gt;é€²éšé¸é … &amp;gt; UEFIéŸŒé«”è¨­å®š &amp;gt; é‡æ–°å•Ÿå‹•&lt;/strong&gt; ã€‚
æ¥è‘—é›»è…¦é‡æ–°å•Ÿå‹•å¾Œå°±å¯ä»¥ä¾†æ”¹è¨­å®šäº†ï¼æŒ‰F10é€²å»æ”¹è¨­å®šï¼Œåœ¨advancedæ‡‰è©²æœƒæœ‰ä¸€å€‹å«virtualization technologyçš„é¸é …ï¼ŒæŠŠå®ƒæ”¹æˆenabledï¼Œå°±OKäº†ï¼
å†æŒ‰F10é›»è…¦å°±æœƒæ„‰å¿«çš„é–‹æ©Ÿäº†ï¼Œé€™ä¸€æ¬¡è™›æ“¬æ©Ÿæ‡‰è©²é–‹å¾—èµ·ä¾†äº†ã€‚&lt;/p&gt;

&lt;h4 id=&quot;å›å¾©åŸä¾†çš„ç‹€æ…‹&quot;&gt;å›å¾©åŸä¾†çš„ç‹€æ…‹&lt;/h4&gt;
&lt;p&gt;å¦‚æœéç¨‹ä¸­æç ¸äº†(?)æˆ–æ˜¯è¦ºå¾—è™›æ“¬æ©Ÿé«’é«’çš„è¶Šçœ‹è¶Šä¸é †çœ¼(?)ï¼Œéƒ½å¯ä»¥é‚„åŸæˆä¸€é–‹å§‹çš„ç‹€æ…‹å‘¢ã€‚&lt;/p&gt;

&lt;p&gt;é€™è£¡å°±è©¦è‘—å›å¾©æˆä¹¾æ·¨çš„ç‹€æ…‹å§ã€‚&lt;/p&gt;

&lt;p&gt;windowsçš„è©±å¯ä»¥ç…§è‘—é€™å€‹åšï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-{}&quot;&gt;$ vagrant halt
$ vagrant destroy --force
$ del /F /Q  Vagrantfile
$ rmdir /S /Q  .vagrant

$ vagrant box remove ubuntu/trusty64
$ rmdir /S /Q %USERPROFILE%\.vagrant.d\boxes\ubuntu-VAGRANTSLASH-trusty64
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;macçš„è©±å¯ä»¥åƒè€ƒä»¥ä¸‹çš„å¯«æ³•ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-{}&quot;&gt;$ vagrant halt ; vagrant destroy --force
$ rm -rf .vagrant Vagrantfile

$ vagrant box remove ubuntu/trusty64
$ rm -rf $HOME/.vagrant.d/boxes/ubuntu-VAGRANTSLASH-trusty64
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&quot;å»ºç«‹ç’°å¢ƒ&quot;&gt;å»ºç«‹ç’°å¢ƒ&lt;/h4&gt;
&lt;p&gt;åˆ°é€™è£¡ï¼Œæˆ‘å€‘å·²ç¶“å­¸æœƒæ€éº¼æŠŠè™›æ“¬æ©Ÿé–‹å¥½äº†å™¢ï¼è€Œä¸”é‚„çŸ¥é“æ€éº¼æŠŠå®ƒç æ‰å‘¢ï¼å¯æ˜¯ç¶²ç¾…(?)é‚„æ²’æœ‰çµæŸï¼Œæ‡‚å¾—æŠŠè™›æ“¬æ©Ÿé–‹èµ·ä¾†é‚„è¦æ‡‚å¾—å®‰è£ç’°å¢ƒæ‰è¡ŒXDD
é–‹èµ·ä¾†çš„ä¹¾ä¹¾æ·¨æ·¨çš„è™›æ“¬æ©Ÿæ˜¯æ²’æœ‰gitã€rubyâ€¦ä»€éº¼éƒ½æ²’æœ‰çš„XD æ‰€ä»¥é‚„æ˜¯è¦æŠŠç’°å¢ƒæ¶èµ·ä¾†æ‰èƒ½é–‹å¿ƒå¯«rails(æ·šé¡)&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥å°±ä¾†é‡æ–°å»ºä¸€æ¬¡è™›æ“¬æ©Ÿå§ï¼Œä¸éé€™ä¸€æ¬¡ç”¨äººå®¶æ¶å¥½çš„ç’°å¢ƒXDD
åŸæœ¬çœ‹gorailsä¸Šæœ‰ä¸€é€£ä¸²è¤‡é›œæœ‰å¯æ€•çš„æ­¥é©Ÿï¼Œè¦ºå¾—é ­æšˆç›®çœ©ã€‚å¾Œä¾†ç™¼ç¾githubä¸Šæœ‰äººå®¶å¼„å¥½çš„ç’°å¢ƒï¼Œæœ€å¾Œä¸€æ¯”commitæ˜¯1å°æ™‚å‰(é‚„æœ‰åœ¨æ›´æ–°ä¸­)ï¼Œè€Œä¸”staræ•¸ä¹Ÿæœ‰ä¸€åƒå¤šï¼Œå°±æ¯«ä¸çŒ¶è±«æ‹¿ä¾†ç”¨äº†www&lt;/p&gt;

&lt;p&gt;é€™ä¸€æ¬¡çš„è©±å°±ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-{}&quot;&gt;$ git clone https://github.com/rails/rails-dev-box.git
$ cd rails-dev-box
$ vagrant up
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å°±æœ‰äººå®¶å¼„å¥½å¥½çš„ç’°å¢ƒå¯ä»¥ç”¨äº†ï¼Œè¦ºå¾—é–‹å¿ƒæ„‰å¿«ã€‚
ç­‰åˆ°è·‘äº†å¥½ä¹…å¥½ä¹…ä»¥å¾Œï¼Œå°±æœ‰ä¸€å°è¦gitæœ‰gitã€è¦æœ‰rubyæœ‰rubyçš„è™›æ“¬æ©Ÿäº†~&lt;/p&gt;

&lt;h4 id=&quot;æŠŠrailsæ¶èµ·ä¾†&quot;&gt;æŠŠrailsæ¶èµ·ä¾†&lt;/h4&gt;
&lt;p&gt;ä¸érails-dev-boxè£¡é¢æœ‰çš„åªæœ‰å¯«railsæœƒç”¨åˆ°çš„æ±è¥¿ï¼Œä½†æ˜¯æ²’æœ‰railsï¼
å°ï¼Œæ²’~æœ‰~rails~~&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥é‚„æ˜¯è¦è‡ªå·±è£ä¸€ä¸‹XDD&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-{}&quot;&gt;sudo gem install rails --no-ri --no-rdoc
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åˆ°é€™è£¡æ­å–œå¤§å®¶ï¼Œç’°å¢ƒæ¶å¾—å·®ä¸å¤šäº†ï¼
ç¥å¤§å®¶ç©è€æ„‰å¿«ï¼&lt;/p&gt;

&lt;h3 id=&quot;ç›¸é—œæ•™æ&quot;&gt;ç›¸é—œæ•™æ&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.codedata.com.tw/social-coding/vagrant-tutorial-1-developer-and-vm&quot;&gt;Vagrant Tutorialï¼ˆ1ï¼‰é›²ç«¯ç ”ç™¼äººå“¡ï¼Œä½ ä¹Ÿéœ€è¦è™›æ“¬æ©Ÿï¼&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.codedata.com.tw/social-coding/vagrant-tutorial-2-playing-vm-with-vagrant&quot;&gt;Vagrant Tutorialï¼ˆ2ï¼‰è·Ÿè‘—æµæµªæ¼¢æŠŠç©è™›æ“¬æ©Ÿ&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://www.codedata.com.tw/social-coding/vagrant-tutorial-3-vm-lifecycle&quot;&gt;Vagrant Tutorialï¼ˆ3ï¼‰ç´°èªªè™›æ“¬æ©Ÿç”Ÿæ»…ç‹€æ…‹&lt;/a&gt;
è¦ºå¾—ä»¥ä¸Šçš„æ•™æè¬›å¾—å…¶å¯¦å¾ˆè©³ç´°ï¼Œé™¤äº†å®‰è£æ­¥é©Ÿé‚„æœ‰å¾ˆå¤šçš„ä»‹ç´¹è·Ÿé–’èŠw&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://gist.github.com/chgu82837/ab1255846b5335407105&quot;&gt;åœ¨ Windows ç”¨ Vagrant å¿«é€Ÿå»ºç«‹ä½ çš„ Linux ç’°å¢ƒ&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://gorails.com/guides/using-vagrant-for-rails-development&quot;&gt;Using Vagrant for Rails Development&lt;/a&gt;
gorails ä¸Šçš„æ•™å­¸ï¼Œä¸éé€™ç¯‡å°±æ¯”è¼ƒè¤‡é›œä¸€äº›äº†ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/rails/rails-dev-box&quot;&gt;Rails dev box&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>æ–‡æœˆ</name></author><category term="rails" /><summary type="html">ç›¸ä¿¡é€™å€‹ä¸–ç•Œä¸Šæœ‰è¨±å¤šäººå’Œæˆ‘ä¸€æ¨£ï¼Œçª®çª®çš„è²·ä¸èµ·macï¼Œ åˆæ²’æœ‰å¯ä»¥ç”¨ linux çš„è…¦è¢‹è·Ÿè€å¿ƒï¼Œæ‰€ä»¥åªå¥½ä¸€ç›´è¢«windowsæ…˜è™QAQâ€</summary></entry><entry><title type="html">[Railså­¸ç¿’ç­†è¨˜] æ¨è–¦åˆå­¸è€…é–±è®€çš„å…©ç¯‡æ–‡ç« </title><link href="/blog/two-articles-recommend-to-rails-beginner" rel="alternate" type="text/html" title="[Railså­¸ç¿’ç­†è¨˜] æ¨è–¦åˆå­¸è€…é–±è®€çš„å…©ç¯‡æ–‡ç« " /><published>2016-05-12T20:52:27+08:00</published><updated>2016-05-12T20:52:27+08:00</updated><id>/blog/two-articles-recommend-to-rails-beginner</id><content type="html" xml:base="/blog/two-articles-recommend-to-rails-beginner">&lt;p&gt;æœ€è¿‘ä¸€ç›´åœ¨åæ€å­¸ç¿’æ­·ç¨‹ï¼Œ
é‚„æœ‰æ¢è¨æ¥ä¸‹ä¾†æ‡‰è©²è¦æ€éº¼æ¨£ç¹¼çºŒç£¨ç·´æŠ€è¡“ï¼Œ
å‰›å¥½çœ‹åˆ°å…©ç¯‡ä¸éŒ¯çš„æ–‡ç« ï¼š&lt;/p&gt;

&lt;h3 id=&quot;how-i-trained-to-learn-rails&quot;&gt;How I trained to learn rails&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://medium.com/how-i-learned-ruby-rails/how-i-trained-to-learn-rails-e08c94e2a51e#.x8nx8aqld&quot;&gt;How I trained to learn rails&lt;/a&gt;
æ–‡ä¸­æœ‰æ¨è–¦çš„å­¸ç¿’è³‡æºï¼Œé‚„æœ‰ä¸€äº›å­¸ç¿’çš„å»ºè­°ã€‚
æˆ‘å€‹äººè¦ºå¾—â€Not Copying/Pasting Codeâ€ã€â€Not getting tired of Google-ingâ€ã€â€Reading Documentation and Source Codesâ€ä¸‰å€‹å»ºè­°è »å—ç”¨çš„ã€‚&lt;/p&gt;

&lt;h3 id=&quot;top-10-mistakes-that-rails-programmers-make&quot;&gt;Top 10 mistakes that rails programmers make&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://www.toptal.com/ruby-on-rails/top-10-mistakes-that-rails-programmers-make&quot;&gt;Top 10 mistakes that rails programmers make&lt;/a&gt;
é€™ç¯‡æ–‡ç« æåˆ°è¨±å¤šrailsé–‹ç™¼è€…æœƒçŠ¯çš„éŒ¯èª¤ï¼Œ
æ¯”æ–¹èªªä¸è¦æ”¾å¤ªå¤šlogicåœ¨viewæˆ–controllerè£¡é¢ï¼Œ
ç”¨å¤ªå¤šçš„gems (æˆ‘è¦ºå¾—åƒæˆ‘ç¾åœ¨å°±å¾ˆä¾è³´gemï¼Œåˆä¸çŸ¥æ‰€ä»¥ç„¶)ï¼Œ
å¿½ç•¥log fileï¼Œæ²’æœ‰æ³¨æ„åˆ°N+1 Queuesçš„å•é¡Œâ€¦ç­‰ç­‰ã€‚
æˆ‘è¦ºå¾—éƒ½é‚„è »é‡è¦çš„ã€‚&lt;/p&gt;

&lt;p&gt;é™¤äº†ä»¥ä¸Š10å€‹éŒ¯èª¤ä»¥å¤–ï¼Œ
æˆ‘è¦ºå¾—æˆ‘è‡ªå·±é‚„å¸¸çŠ¯çš„éŒ¯æœ‰ï¼šæ²’æœ‰æŠŠç›¸åŒçš„htmlæ”¾åˆ°ä¸€å€‹partialè£¡é‡è¤‡åˆ©ç”¨ã€ç›´æ¥åœ¨viewè£¡é¢å‘¼å«modelâ€¦ä¹‹é¡çš„ã€‚&lt;/p&gt;

&lt;p&gt;ä»¥å¾Œé‚„æ˜¯è¦å­¸ç¿’å¾—å¤ æ‰å¯¦ï¼Œé‚„æœ‰å¤šæ³¨æ„é€™äº›ç´°ç¯€ã€‚
å¸Œæœ›ä¹‹å¾Œèƒ½å¤ æ›´ç†Ÿæ‚‰railsçš„é‹ä½œï¼Œå¾ç¾©å¤§åˆ©éºµç¨‹å¼ç¢¼ä¸­è„«èº«è€Œå‡ºXD&lt;/p&gt;</content><author><name>æ–‡æœˆ</name></author><category term="rails" /><summary type="html">æœ€è¿‘ä¸€ç›´åœ¨åæ€å­¸ç¿’æ­·ç¨‹ï¼Œ é‚„æœ‰æ¢è¨æ¥ä¸‹ä¾†æ‡‰è©²è¦æ€éº¼æ¨£ç¹¼çºŒç£¨ç·´æŠ€è¡“ï¼Œ å‰›å¥½çœ‹åˆ°å…©ç¯‡ä¸éŒ¯çš„æ–‡ç« ï¼š</summary></entry><entry><title type="html">[Railså­¸ç¿’ç­†è¨˜] ç”¨SettingslogicæŠŠé‡è¦è³‡è¨Šè—èµ·ä¾†!</title><link href="/blog/hide-routes-and-authenticate-with-settingslogic" rel="alternate" type="text/html" title="[Railså­¸ç¿’ç­†è¨˜] ç”¨SettingslogicæŠŠé‡è¦è³‡è¨Šè—èµ·ä¾†!" /><published>2016-05-12T20:33:54+08:00</published><updated>2016-05-12T20:33:54+08:00</updated><id>/blog/hide-routes-and-authenticate-with-settingslogic</id><content type="html" xml:base="/blog/hide-routes-and-authenticate-with-settingslogic">&lt;p&gt;é¦–å…ˆä¾†ç¢ç¢å¿µä¸€ä¸‹XD
æœ€è¿‘èŠ±äº†å¥½å¤šæ™‚é–“åœ¨å¯«è‡ªå·±çš„blogï¼Œ
å…¶å¯¦ä¸€ç›´å¾ˆæƒ³æŠŠå®ƒæ¨åˆ°Githubä¸Š(ç‚ºäº†ç¶ ç¶ çš„contributions!!)ï¼Œ
ä½†æ˜¯åˆæ€•å¾Œå°è·¯å¾‘è·Ÿå¸³è™Ÿå¯†ç¢¼æœƒè¢«çœ‹å…‰å…‰ï¼Œå…¶å¯¦ç…©æƒ±äº†ä¸€é™£å­XD&lt;/p&gt;

&lt;p&gt;ç¶“éå¤§å¸«æé»(?)ä¹‹å¾Œæ‰çŸ¥é“åŸä¾†é€™æ˜¯å¯ä»¥è§£æ±ºçš„å‘¢XD
è¦è§£æ±ºé€™å€‹å•é¡Œæœ‰å…©ç¨®æ–¹æ³•ï¼Œ
ä¸€ç¨®æ˜¯æŠŠè¨­å®šå€¼æ”¾åœ¨ENVï¼Œ
å¦ä¸€ç¨®å‰‡æ˜¯ç”¨settinglogicä¾†è§£æ±ºé€™å€‹å•é¡Œã€‚
é€™é‚Šæœƒæåˆ°çš„æ˜¯å¾Œè€…~&lt;/p&gt;

&lt;p&gt;(æ­£æ–‡è¦é–‹å§‹äº†w)&lt;/p&gt;

&lt;h3 id=&quot;å®‰è£gem&quot;&gt;å®‰è£gem&lt;/h3&gt;

&lt;p&gt;é¦–å…ˆå‘¢ï¼Œå…ˆåœ¨ &lt;strong&gt;Gemfile&lt;/strong&gt; ä¸­åŠ å…¥ï¼š&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt;  &lt;span class=&quot;s2&quot;&gt;&quot;settingslogic&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç„¶å¾Œåœ¨terminalåŸ·è¡Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;$ bundle&lt;/code&gt; å°±å®‰è£å®Œæˆäº†ã€‚&lt;/p&gt;

&lt;h3 id=&quot;ä½¿ç”¨settinglogic&quot;&gt;ä½¿ç”¨Settinglogic&lt;/h3&gt;
&lt;p&gt;é€™å€‹gemçš„è©³ç´°èªªæ˜å¯ä»¥çœ‹githubä¸Šçš„&lt;a href=&quot;https://github.com/binarylogic/settingslogic&quot;&gt;README&lt;/a&gt;ã€‚
é‚£é€™é‚Šå°±ç°¡å–®ä»‹ç´¹åˆæ­¥çš„ä½¿ç”¨~&lt;/p&gt;

&lt;p&gt;åœ¨ &lt;strong&gt;app/model&lt;/strong&gt; ä¸­åŠ å…¥ &lt;strong&gt;settings.rb&lt;/strong&gt;ï¼Œ
è£¡é¢åŠ å…¥ä»¥ä¸‹çš„å…§å®¹ï¼š&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Settings&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Settingslogic&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Rails&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;/config/application.yml&quot;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Rails&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;env&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;é‚£codeä¸­çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;application.yml&lt;/code&gt; å°±æ˜¯ç­‰ä¸€ä¸‹è¦æ”¾å¾Œå°è·¯å¾‘è·Ÿå¸³å¯†çš„åœ°æ–¹~&lt;/p&gt;

&lt;p&gt;æ¥è‘—å‹™å¿…è¨˜å¾—æŠŠ &lt;strong&gt;application.yml&lt;/strong&gt; åŠ åˆ° &lt;strong&gt;.gitignore&lt;/strong&gt; ä¸­ï¼Œ
å¦å‰‡æ‰€æœ‰åŠªåŠ›éƒ½æ˜¯ç™½è²»çš„å™¢~~~&lt;/p&gt;

&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;s&quot;&gt;$ echo &quot;config/application.yml&quot; &amp;gt;&amp;gt; .gitignore&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;å¾Œå°è·¯å¾‘&quot;&gt;å¾Œå°è·¯å¾‘&lt;/h3&gt;
&lt;p&gt;ä¸Šæ¬¡åœ¨æ–‡ç«  &lt;a href=&quot;http://fumitsuki-blog.herokuapp.com/articles/backend-with-namespace&quot;&gt;å–„ç”¨namespaceå»ºç«‹å¾Œå°&lt;/a&gt; ä¸­æœ‰æåˆ°å¾Œå°è·¯å¾‘çš„ä½œæ³•ï¼Œ
é€™é‚Šè¦æ›´é€²éšçš„æŠŠå¾Œå°è·¯å¾‘è—èµ·ä¾†~&lt;/p&gt;

&lt;p&gt;æ‰“é–‹ &lt;strong&gt;config/route.rb&lt;/strong&gt; ï¼ŒåŸæœ¬çš„å¾Œå°è·¯å¾‘æ‡‰è©²æ˜¯ï¼š&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; &lt;span class=&quot;n&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:admin&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;é€™é‚Šè¦æŠŠå®ƒæ”¹æˆï¼š&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; &lt;span class=&quot;n&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:admin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;path: &lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Settings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;admin_path_prefix&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;é€™è£¡çš„ â€˜admin_path_prefix&lt;code class=&quot;highlighter-rouge&quot;&gt; åˆ°æ™‚å€™æœƒæ”¾åœ¨ **application.yml** å­˜å¾Œå°è·¯å¾‘ã€‚
(å¯ä»¥è‡ªå·±å–ï¼Œè¦å« &lt;/code&gt;backend_path` ä»€éº¼çš„éš¨æ„~)
æ‰€ä»¥æ¥è‘—å°±åœ¨ &lt;strong&gt;config/&lt;/strong&gt; ä¸­åŠ å…¥ &lt;strong&gt;application.yml&lt;/strong&gt;ï¼Œè£¡é¢åŠ ä¸Šï¼š&lt;/p&gt;

&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;na&quot;&gt;defaults&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;&amp;amp;defaults&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;development&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;*defaults&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;admin_path_prefix&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;your_admin_path&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;*defaults&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;admin_path_prefix&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;your_admin_path&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;production&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;*defaults&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;admin_path_prefix&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;your_admin_path&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;é€™è£¡çš„ ` your_admin_path&lt;code class=&quot;highlighter-rouge&quot;&gt; å°±æ˜¯å¾Œå°è·¯å¾‘~ 
å¯ä»¥æ ¹æ“šä¸åŒçš„ç’°å¢ƒè‡ªè¨‚å¾Œå°~
å¦‚æœ &lt;/code&gt;$ rails s` çš„æ™‚å€™æœƒå‡ºéŒ¯ï¼Œå»ºè­°æª¢æŸ¥ä¸€ä¸‹æœ‰æ²’æœ‰å¤šæ‰“å°‘æ‰“ä»€éº¼ï¼Œé‚„æœ‰ç¸®æ’æ­£ä¸æ­£ç¢ºã€‚&lt;/p&gt;

&lt;h3 id=&quot;http-basic-authetication&quot;&gt;http basic authetication&lt;/h3&gt;
&lt;p&gt;å¸¸å¸¸ç”¨ http basic authetication éƒ½æ˜¯åœ¨ controller ä¸­åŠ å…¥ï¼š&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;http_basic_authenticate_with&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;name: &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;my_name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;password: &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;my_secret&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœé€™è¡Œè·Ÿè‘— controller ä¸€èµ·è¢«æ¨ä¸Šgithub repoçš„è©±ï¼Œè‚¯å®šæœƒè¢«é»‘é»‘æ”»é™·çš„ï¼(èª¤)
æ‰€ä»¥ä¹Ÿè¦æƒ³è¾¦æ³•æ”¾åˆ° application.yml ä¸­ã€‚
æ‰€ä»¥å…ˆæŠŠç¾åœ¨é€™è¡Œæ”¹æˆï¼š&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;http_basic_authenticate_with&lt;/span&gt;  &lt;span class=&quot;no&quot;&gt;Settings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;http_basic_auth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;to_h&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;é€™è£¡çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;http_basic_auth&lt;/code&gt; å°±æ˜¯æœƒåœ¨ &lt;strong&gt;application.yml&lt;/strong&gt; ä¸­åŠ å…¥çš„å¸³å¯†ï¼Œ
&lt;code class=&quot;highlighter-rouge&quot;&gt;.to_h&lt;/code&gt; æœƒæŠŠ &lt;code class=&quot;highlighter-rouge&quot;&gt;http_basic_auth&lt;/code&gt; è½‰æˆé›œæ¹Šã€‚&lt;/p&gt;

&lt;p&gt;æ¥è‘—å‘¢ï¼Œåœ¨ &lt;strong&gt;application.yml&lt;/strong&gt;åŠ å…¥&lt;code class=&quot;highlighter-rouge&quot;&gt;http_basic_auth&lt;/code&gt; ï¼š&lt;/p&gt;

&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;na&quot;&gt;defaults&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;&amp;amp;defaults&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;development&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;*defaults&lt;/span&gt;
 &lt;span class=&quot;na&quot;&gt;admin_path_prefix&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;your_admin_path&lt;/span&gt;
 &lt;span class=&quot;na&quot;&gt;http_basic_auth&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;:name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;your_name&lt;/span&gt; 
    &lt;span class=&quot;s&quot;&gt;:password&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Your_password&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;*defaults&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;production&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;*defaults&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;admin_path_prefix&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;your_admin_path&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;http_basic_auth&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;s&quot;&gt;:name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;your_name&lt;/span&gt; 
    &lt;span class=&quot;s&quot;&gt;:password&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Your_password&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;é€™æ¨£å°±å¤§åŠŸå‘Šæˆäº†ï¼æ¥è‘—åªè¦é–‹å•Ÿserverç¢ºå®šæœ‰å¥½å¥½é‹ä½œå°±OKäº†~
ç…§ç†ä¾†èªªå¾Œå°è·¯å¾‘æœƒè®Šæˆ &lt;code class=&quot;highlighter-rouge&quot;&gt;your_admin_path/your_controller_name&lt;/code&gt; å™¢~&lt;/p&gt;

&lt;p&gt;åˆ°é€™è£¡å‘Šä¸€æ®µè½~ è¶•å¿«ä¾†è©¦è©¦çœ‹å§ï¼&lt;/p&gt;</content><author><name>æ–‡æœˆ</name></author><category term="rails" /><summary type="html">é¦–å…ˆä¾†ç¢ç¢å¿µä¸€ä¸‹XD æœ€è¿‘èŠ±äº†å¥½å¤šæ™‚é–“åœ¨å¯«è‡ªå·±çš„blogï¼Œ å…¶å¯¦ä¸€ç›´å¾ˆæƒ³æŠŠå®ƒæ¨åˆ°Githubä¸Š(ç‚ºäº†ç¶ ç¶ çš„contributions!!)ï¼Œ ä½†æ˜¯åˆæ€•å¾Œå°è·¯å¾‘è·Ÿå¸³è™Ÿå¯†ç¢¼æœƒè¢«çœ‹å…‰å…‰ï¼Œå…¶å¯¦ç…©æƒ±äº†ä¸€é™£å­XD</summary></entry><entry><title type="html">[5xRubyå¯¦ç¿’æ—¥è¨˜] HTML &amp;amp; CSSèª²ç¨‹å¿ƒå¾—</title><link href="/blog/2016-spring-5xruby-html&css-course" rel="alternate" type="text/html" title="[5xRubyå¯¦ç¿’æ—¥è¨˜] HTML &amp; CSSèª²ç¨‹å¿ƒå¾—" /><published>2016-04-29T00:56:13+08:00</published><updated>2016-04-29T00:56:13+08:00</updated><id>/blog/2016-spring-5xruby-html&amp;css-course</id><content type="html" xml:base="/blog/2016-spring-5xruby-html&amp;css-course">&lt;p&gt;é¦–å…ˆå‘¢ï¼Œæˆ‘è¦å…ˆæ‡ºæ‚”ä¸€ä¸‹XD
ç”±æ–¼èª²å‹™çš„é—œä¿‚æœ‰é»å¿™å¿™çš„ï¼Œæ‰€ä»¥æ²’æœ‰å…¨ç¨‹åƒèˆ‡HTMLçš„èª²ç¨‹ï¼Œ
è€Œä¸”è€å¯¦èªªæˆ‘åªæœ‰å»ä¸Šç¬¬ä¸€å ‚èª²QwQâ€
è¦ä¸ç„¶æˆ‘è¦ºå¾—Amosè¬›å¸«è¬›å¾—é‚„ä¸éŒ¯çš„èªªâ€¦&lt;/p&gt;

&lt;p&gt;æ‰€å¹¸é€™æ˜¯ç¬¬äºŒæ¬¡ä¸ŠAmosçš„èª²ï¼Œæ‰€ä»¥æˆ‘é‚„ç”Ÿå¾—å‡ºå¿ƒå¾—ä¾†(X)&lt;/p&gt;

&lt;p&gt;é›–ç„¶ä»¥å‰å°±ç¢°éä¸€é»é»HTMLè·ŸCSSï¼Œ
ä½†æ˜¯ä¸€ç›´å€šè³´bootstrapå¥—ç‰ˆï¼Œ
å…¶å¯¦æ²’æœ‰å¥½å¥½çš„ç·´ç¿’éè‡ªå·±åˆ‡ç‰ˆã€å¯«RWDï¼Œ
è€Œä¸”ä¹Ÿæ²’æœ‰é¡§åŠSEOçš„éƒ¨åˆ†ï¼Œ
æˆ‘è¦ºå¾—é€™é»å°±é‚„é‡è¦çš„ã€‚&lt;/p&gt;

&lt;p&gt;è¦ºå¾—é›–ç„¶å¯ä»¥çœ‹éç¶²è·¯ä¸Šçš„æ–‡ä»¶ï¼Œå°±å¤§æ¦‚çŸ¥é“æ€éº¼æ¨£ä½¿ç”¨æ¨™ç±¤ã€æ€éº¼åˆ»CSSï¼Œ
ä½†å…¶ä¸­é‚„æ˜¯æœ‰å¾ˆå¤šæšæšè§’è§’ï¼ŒçœŸçš„é‚„æ˜¯è¦æœ‰æœ‰ç¶“é©—çš„äººä¾†æé»ï¼Œ
é‚„æœ‰æ€éº¼åˆ»æœƒæœ‰é‚£äº›ç¼ºé»ä¹‹é¡çš„ï¼Œæˆ‘è¦ºå¾—é€™é»ä¹Ÿæ˜¯æ”¶ç©«æœ€å¤šçš„éƒ¨åˆ†å§ã€‚&lt;/p&gt;

&lt;p&gt;æœ‰èˆˆè¶£çš„è©±å¯ä»¥è¿½è¹¤ä¸€ä¸‹Amosè¬›å¸«çš„ç¶²ç«™&lt;a href=&quot;csscoke.com&quot;&gt;CSSå¯æ¨‚&lt;/a&gt;ï¼Œ
é‚„æœ‰å®¹æˆ‘å·¥å•†æœå‹™ä¸€ä¸‹w å¯ä»¥åƒè€ƒä¸€ä¸‹&lt;a href=&quot;https://5xruby.tw/talks?category=front-end&quot;&gt;äº”å€ç´…å¯¶çŸ³çš„å‰ç«¯èª²ç¨‹&lt;/a&gt;å™¢XD&lt;/p&gt;</content><author><name>æ–‡æœˆ</name></author><category term="5xruby" /><summary type="html">é¦–å…ˆå‘¢ï¼Œæˆ‘è¦å…ˆæ‡ºæ‚”ä¸€ä¸‹XD ç”±æ–¼èª²å‹™çš„é—œä¿‚æœ‰é»å¿™å¿™çš„ï¼Œæ‰€ä»¥æ²’æœ‰å…¨ç¨‹åƒèˆ‡HTMLçš„èª²ç¨‹ï¼Œ è€Œä¸”è€å¯¦èªªæˆ‘åªæœ‰å»ä¸Šç¬¬ä¸€å ‚èª²QwQâ€ è¦ä¸ç„¶æˆ‘è¦ºå¾—Amosè¬›å¸«è¬›å¾—é‚„ä¸éŒ¯çš„èªªâ€¦</summary></entry><entry><title type="html">[Rails å­¸ç¿’ç­†è¨˜]å–„ç”¨namespaceå»ºç«‹å¾Œå°</title><link href="/blog/backend-with-namespace" rel="alternate" type="text/html" title="[Rails å­¸ç¿’ç­†è¨˜]å–„ç”¨namespaceå»ºç«‹å¾Œå°" /><published>2016-04-28T00:07:19+08:00</published><updated>2016-04-28T00:07:19+08:00</updated><id>/blog/backend-with-namespace</id><content type="html" xml:base="/blog/backend-with-namespace">&lt;p&gt;åœ¨å¯«blogçš„æ™‚å€™ä¸€ç›´å¾ˆè‹¦æƒ±è¦æ€éº¼å¯«å¾Œå°ï¼Œ
æ˜¯è¦å¦å¤–æœ‰ä¸€å€‹å«backendçš„controllerå—ï¼Ÿé‚„æ˜¯æ€éº¼æ¨£å‘¢ï¼Ÿ&lt;/p&gt;

&lt;p&gt;å¾Œä¾†æ‰çŸ¥é“åŸä¾†æœ‰namespaceé€™æ±è¥¿ï¼Œè¦ºå¾—äººé–“æ„‰å¿«(X)&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥å»¢è©±å°‘èªªå°±é–‹å§‹å§ï¼&lt;/p&gt;

&lt;h3 id=&quot;routeçš„éƒ¨åˆ†&quot;&gt;routeçš„éƒ¨åˆ†&lt;/h3&gt;
&lt;p&gt;é¦–å…ˆåˆ° &lt;strong&gt;route.rb&lt;/strong&gt; åŠ å…¥ï¼š&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:admin&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;resources&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:articles&lt;/span&gt;
 &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;é€™æ¨£indexçš„è·¯å¾‘å°±æ›è®Šæˆ &lt;strong&gt;admin/articles&lt;/strong&gt; äº†ï¼Œ 
å¯ä»¥ç”¨&lt;code class=&quot;highlighter-rouge&quot;&gt;$ rake routes&lt;/code&gt;ä¾†çœ‹ä¸€ä¸‹è·¯å¾‘é•·ä»€éº¼æ¨£å­ã€‚&lt;/p&gt;

&lt;p&gt;ç„¶å¾Œé€™é‚Šè¦ç‰¹åˆ¥æ³¨æ„ï¼ˆå¤§å¸«æé»çš„ï¼Œä¸æ˜¯æˆ‘è‡ªå·±èªªçš„wï¼‰ï¼Œ
ç›¡é‡ä¸è¦ç”¨adminã€backendé€™ç¨®å¤§å®¶éƒ½æƒ³å¾—åˆ°çš„åç¨±ã€‚
å¦å‰‡å¾Œå°å¾ˆå®¹æ˜“è¢«ææ€–çš„å¤§é»‘é»‘æ‰€æ”»é™·ã€‚(é»‘é»‘æœ€å–œæ­¡æˆ³æˆ³äº†(Ìâ—‰â—à±ªâ—Ÿâ—‰â€µ))&lt;/p&gt;

&lt;p&gt;ç•¶ç„¶ï¼Œarticleçš„éƒ¨åˆ†å°±æ˜¯controllerçš„åå­—ï¼Œè¦å«postsâ€¦ä»€éº¼çš„éƒ½å¯ä»¥ã€‚&lt;/p&gt;

&lt;h3 id=&quot;controllerçš„éƒ¨åˆ†&quot;&gt;Controllerçš„éƒ¨åˆ†&lt;/h3&gt;
&lt;p&gt;æ¥ä¸‹ä¾†æ˜¯contorllerçš„éƒ¨åˆ†ï¼Œé€™é‚Šåªè¦æœ‰åŸºæœ¬çš„CRUDåŠ ä¸Šèªè­‰å°±OKäº†ã€‚
ï¼ˆå…¶ä»–åŠŸèƒ½å°±è‡ªå·±ç›¡æƒ…åŠ å§ï¼Œé‚£å°±è·Ÿæœ¬æ–‡ç„¡é—œäº†wï¼‰
å¯ä»¥å–„ç”¨command lineä¾†å»ºç«‹controllerï¼Œåƒæ˜¯ï¼š&lt;code class=&quot;highlighter-rouge&quot;&gt;$ rails g controller admin/articles&lt;/code&gt;
é€™å€‹æ™‚å€™å¯ä»¥ç™¼ç¾å¤šå‡ºäº† &lt;strong&gt;app/controllers/admin/articles_controller.rb&lt;/strong&gt; é€™å€‹æª”æ¡ˆï¼Œ
åˆ°é€™è£¡å¾Œå°çš„è·¯å¾‘å°±å·®ä¸å¤šäº†ã€‚&lt;/p&gt;

&lt;h3 id=&quot;ä½¿ç”¨è€…èªè­‰&quot;&gt;ä½¿ç”¨è€…èªè­‰&lt;/h3&gt;
&lt;p&gt;é€™å€‹éƒ¨åˆ†çœ‹æ˜¯å¤šä½¿ç”¨è€…é‚„æ˜¯å–®ä¸€ä½¿ç”¨è€…ï¼Œ
å¦‚æœæ˜¯å–®ä¸€ä½¿ç”¨è€…çš„è©±å¯ä»¥ç”¨ç°¡å–®çš„ &lt;strong&gt;http basic authenticate&lt;/strong&gt; ä¾†è™•ç†ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨å‰›å‰›çš„ &lt;strong&gt;admin/articles_controller.rb&lt;/strong&gt; ä¸­åŠ å…¥ï¼š&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;http_basic_authenticate_with&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;name: &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;your_name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;password: &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;your_password&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;é€™é‚Šçš„&lt;code class=&quot;highlighter-rouge&quot;&gt;your_name&lt;/code&gt;è·Ÿ&lt;code class=&quot;highlighter-rouge&quot;&gt;your_password&lt;/code&gt;å°±è‡ªç”±å¡«å…¥è‡ªè¨‚çš„å¸³è™Ÿå¯†ç¢¼å§ï¼
å¤šä½¿ç”¨è€…çš„è©±ï¼Œå¯ä»¥ç”¨ &lt;strong&gt;devise&lt;/strong&gt; é€™å€‹æ–¹ä¾¿å¥½ç”¨çš„å¥—ä»¶ã€‚&lt;/p&gt;

&lt;p&gt;é¦–å…ˆï¼Œåœ¨ &lt;strong&gt;Gemfile&lt;/strong&gt; ä¸­åŠ å…¥ï¼š&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'devise'&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç„¶å¾Œåœ¨å‘½ä»¤åˆ—è¼¸å…¥&lt;code class=&quot;highlighter-rouge&quot;&gt;$ bundle&lt;/code&gt;å°±å¯ä»¥å®‰è£å¥—ä»¶äº†ã€‚
æ¥è‘—å‘¢ï¼Œå†å‘½ä»¤åˆ—è¼¸å…¥&lt;code class=&quot;highlighter-rouge&quot;&gt;$ rails g devise:install&lt;/code&gt;ä¾†ç”¢ç”Ÿdeviseè¨­å®šæª”
å†è¼¸å…¥&lt;code class=&quot;highlighter-rouge&quot;&gt;$ rails g devise user&lt;/code&gt;ç”¢ç”Ÿuser modelï¼Œç„¶å¾Œä¾¿å¿˜äº†&lt;code class=&quot;highlighter-rouge&quot;&gt;rake db:migrate&lt;/code&gt;ä¾†migrateå®ƒã€‚Deviseä¹Ÿæä¾›viewçš„æ¨£æ¿å¯ä»¥ä½¿ç”¨ï¼Œåœ¨å‘½ä»¤åˆ—è¼¸å…¥&lt;code class=&quot;highlighter-rouge&quot;&gt;rails generate devise:views&lt;/code&gt;å°±å¯ä»¥è‡ªå‹•ç”¢ç”Ÿäº†ã€‚&lt;/p&gt;

&lt;p&gt;é™¤æ­¤ä¹‹å¤–ï¼Œ
å…¶å¯¦ä¹Ÿæœ‰å¾Œå°çš„å¥—ä»¶å¯ä»¥ç”¨ï¼Œåƒèªª&lt;a href=&quot;https://github.com/sferik/rails_admin&quot;&gt;rails_admin&lt;/a&gt;ä¹‹é¡çš„ï¼Œå¯ä»¥åƒè€ƒçœ‹çœ‹å‘¢ã€‚&lt;/p&gt;</content><author><name>æ–‡æœˆ</name></author><category term="rails" /><summary type="html">åœ¨å¯«blogçš„æ™‚å€™ä¸€ç›´å¾ˆè‹¦æƒ±è¦æ€éº¼å¯«å¾Œå°ï¼Œ æ˜¯è¦å¦å¤–æœ‰ä¸€å€‹å«backendçš„controllerå—ï¼Ÿé‚„æ˜¯æ€éº¼æ¨£å‘¢ï¼Ÿ</summary></entry></feed>